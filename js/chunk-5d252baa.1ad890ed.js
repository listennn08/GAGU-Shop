(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5d252baa"],{"0703":function(t,n,e){"use strict";e.d(n,"g",(function(){return o})),e.d(n,"h",(function(){return u})),e.d(n,"c",(function(){return d})),e.d(n,"l",(function(){return l})),e.d(n,"d",(function(){return f})),e.d(n,"f",(function(){return h})),e.d(n,"b",(function(){return p})),e.d(n,"k",(function(){return v})),e.d(n,"i",(function(){return b})),e.d(n,"a",(function(){return g})),e.d(n,"j",(function(){return _})),e.d(n,"m",(function(){return C})),e.d(n,"e",(function(){return m}));e("99af");var a=e("bc3a"),c=e.n(a),s=e("2b1d"),i="dd62b88f-6f23-42a4-8551-b1cb4552bb3e",r=c.a.create({timeout:3e4,baseURL:"https://course-ec-api.hexschool.io/api/".concat(i,"/admin/")});r.interceptors.request.use((function(t){var n=t;return n.headers.Authorization="Bearer ".concat(s["a"].getItem("token")),n}));var o=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return r.get("ec/products?page=".concat(t))},u=function(t){return r.get("ec/product/".concat(t))},d=function(t){return r.post("ec/product",t)},l=function(t,n){return r.patch("ec/product/".concat(t),n)},f=function(t){return r.delete("ec/product/".concat(t))},h=function(){return r.get("ec/coupons")},p=function(t){return r.post("ec/coupon",t)},v=function(t,n){return r.patch("ec/coupon/".concat(t),n)},b=function(){return r.get("ec/orders")},g=function(t,n){return r.patch("ec/orders/".concat(t,"/").concat(n?"paid":"unpaid"))},_=function(){return r.get("storage")},C=function(t){return r.post("storage",t)},m=function(t){return r.delete("storage/".concat(t))}},af2d:function(t,n,e){"use strict";var a=e("f7e4"),c=e.n(a);c.a},efd9:function(t,n,e){"use strict";e.r(n);var a=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"container is-fluid"},[e("table",{staticClass:"table is-fullwidth mt-5"},[t._m(0),t._l(t.orders,(function(n,a){return e("tr",{key:n.id,staticClass:"item-list",attrs:{"data-id":n.id,"data-index":a}},[e("td",{staticClass:"col"},[e("div",{staticClass:"text"},[t._v(t._s(n.id))])]),e("td",{staticClass:"col"},t._l(n.products,(function(n){return e("div",{key:n.id,staticClass:"text"},[t._v(t._s(n.product.title))])})),0),e("td",{staticClass:"col"},[e("div",{staticClass:"text"},[t._v(t._s(t._f("cash")(n.amount)))])]),e("td",{staticClass:"col"},[e("div",{staticClass:"text"},[t._v(t._s(n.payment))])]),e("td",{staticClass:"col"},[e("div",{staticClass:"field"},[e("input",{directives:[{name:"model",rawName:"v-model",value:n.paid,expression:"item.paid"}],staticClass:"switch",class:{"is-success":n.paid},attrs:{id:n.id,type:"checkbox"},domProps:{checked:Array.isArray(n.paid)?t._i(n.paid,null)>-1:n.paid},on:{change:[function(e){var a=n.paid,c=e.target,s=!!c.checked;if(Array.isArray(a)){var i=null,r=t._i(a,i);c.checked?r<0&&t.$set(n,"paid",a.concat([i])):r>-1&&t.$set(n,"paid",a.slice(0,r).concat(a.slice(r+1)))}else t.$set(n,"paid",s)},function(e){return t.changePay(n.id,n.paid)}]}}),e("label",{attrs:{for:n.id}},[t._v(t._s(t.checkPaid(n.paid)))])])]),e("td",{staticClass:"col"},[e("div",{staticClass:"buttons is-centered"},[e("button",{staticClass:"button",attrs:{"data-action":"update",disabled:""},on:{click:function(n){return t.openPage(a)}}},[e("span",{staticClass:"icon is-small"},[e("font-awesome-icon",{attrs:{icon:["fas","edit"]}})],1),e("span",[t._v("修改")])]),e("button",{staticClass:"button",class:{"is-loading":t.loading},on:{click:function(n){return t.deleteProduct(a)}}},[e("span",{staticClass:"icon is-small"},[e("font-awesome-icon",{attrs:{icon:["fas","trash-alt"]}})],1),e("span",[t._v("刪除")])])])])])}))],2)])},c=[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("tr",{staticClass:"has-cus-background-dark has-text-wieght-bold"},[e("th",{staticClass:"has-text-light"},[t._v("訂單編號")]),e("th",{staticClass:"has-text-light"},[t._v("購買商品")]),e("th",{staticClass:"has-text-light"},[t._v("總額")]),e("th",{staticClass:"has-text-light"},[t._v("付款方式")]),e("th",{staticClass:"has-text-light"},[t._v("付款狀態")]),e("th",{staticClass:"has-text-light"},[t._v("編輯")])])}],s=(e("4160"),e("159b"),e("5530")),i=e("2f62"),r=e("0703"),o={name:"Orders",data:function(){return{loading:!1}},created:function(){var t=this,n=this.$loading.show();Object(r["i"])().then((function(e){t.setOrders(e.data.data),n.hide()}))},computed:Object(s["a"])(Object(s["a"])({},Object(i["c"])({orders:"order/orders"})),{},{checkPaid:function(){return function(t){return t?"已付款":"未付款"}}}),methods:Object(s["a"])(Object(s["a"])({},Object(i["b"])({setOrders:"order/setOrders"})),{},{changePay:function(t,n){var e=this;return Object(r["a"])(t,n).then((function(){})).catch((function(){e.orders.forEach((function(e){var a=e;return e.id===t&&(a.paid=!n),a}))}))}})},u=o,d=(e("af2d"),e("2877")),l=Object(d["a"])(u,a,c,!1,null,"4e835554",null);n["default"]=l.exports},f7e4:function(t,n,e){}}]);
//# sourceMappingURL=chunk-5d252baa.1ad890ed.js.map