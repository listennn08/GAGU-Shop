{"version":3,"sources":["webpack:///./src/views/Product.vue?2850","webpack:///./src/views/Product.vue?773b","webpack:///src/views/Product.vue","webpack:///./src/views/Product.vue?880b","webpack:///./src/views/Product.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_s","tempProduct","category","attrs","imageUrl","title","store","_e","domProps","descriptionDisplay","content","description","_f","price","class","strike","origin_price","options","unit","quantityMinest","on","$event","countQuantity","directives","name","rawName","value","expression","updateCartData","target","composing","$set","isLoading","addToCart","id","quantity","preventDefault","$router","push","_l","feeback","key","pic","x","fill","star","comment","staticRenderFns","components","RandomRecommend","data","computed","created","getProduct","watch","handler","$route","params","methods","opacity","operate","setMsg","type","msg","beforeDestroy","clearTempProduct","component"],"mappings":"kHAAA,yBAAoiB,EAAG,G,gECAviB,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,UAAU,CAACE,YAAY,0BAA0B,CAACF,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACF,EAAG,MAAM,CAACE,YAAY,sBAAsB,CAACF,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAAEN,EAAe,YAAEI,EAAG,MAAM,CAACE,YAAY,qBAAqB,CAACF,EAAG,MAAM,CAACE,YAAY,WAAW,CAACF,EAAG,OAAO,CAACE,YAAY,wCAAwC,CAACN,EAAIO,GAAGP,EAAIQ,GAAGR,EAAIS,YAAYC,aAAaN,EAAG,MAAM,CAACE,YAAY,yBAAyB,CAACF,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,SAAS,CAACE,YAAY,SAAS,CAACF,EAAG,MAAM,CAACO,MAAM,CAAC,IAAMX,EAAIS,YAAYG,SAAS,YAAYR,EAAG,MAAM,CAACE,YAAY,wBAAwB,CAACF,EAAG,KAAK,CAACE,YAAY,cAAc,CAACN,EAAIO,GAAGP,EAAIQ,GAAGR,EAAIS,YAAYI,QAASb,EAAIS,YAAYK,MAAQ,EAAGV,EAAG,OAAO,CAACE,YAAY,sBAAsB,CAACN,EAAIO,GAAG,SAASP,EAAIe,OAAOX,EAAG,MAAM,CAACE,YAAY,iCAAiC,CAACN,EAAIO,GAAG,UAAUH,EAAG,UAAU,CAACE,YAAY,oBAAoB,CAACF,EAAG,IAAI,CAACE,YAAY,gBAAgBU,SAAS,CAAC,UAAYhB,EAAIQ,GAAGR,EAAIiB,mBAAmBjB,EAAIS,YAAYS,eAAed,EAAG,MAAM,CAACE,YAAY,iCAAiC,CAACN,EAAIO,GAAG,UAAUH,EAAG,UAAU,CAACE,YAAY,gBAAgB,CAACF,EAAG,IAAI,CAACE,YAAY,gBAAgBU,SAAS,CAAC,UAAYhB,EAAIQ,GAAGR,EAAIiB,mBAAmBjB,EAAIS,YAAYU,mBAAmBf,EAAG,MAAM,CAACE,YAAY,iCAAiC,CAACN,EAAIO,GAAG,QAAQH,EAAG,MAAM,CAACE,YAAY,6CAA6C,CAACN,EAAIO,GAAGP,EAAIQ,GAAGR,EAAIoB,GAAG,OAAPpB,CAAeA,EAAIS,YAAYY,SAASjB,EAAG,OAAO,CAACE,YAAY,YAAYgB,MAAM,CAACC,OAAQvB,EAAIS,YAAYY,QAAQ,CAACrB,EAAIO,GAAGP,EAAIQ,GAAGR,EAAIoB,GAAG,OAAPpB,CAAeA,EAAIS,YAAYe,oBAAoBpB,EAAG,MAAM,CAACE,YAAY,iCAAiC,CAACN,EAAIO,GAAG,QAAQH,EAAG,IAAI,CAACE,YAAY,QAAQ,CAACN,EAAIO,GAAGP,EAAIQ,GAAGR,EAAIS,YAAYgB,QAAQX,OAAO,IAAId,EAAIQ,GAAGR,EAAIS,YAAYiB,SAAStB,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,MAAM,CAACE,YAAY,2CAA2C,CAACF,EAAG,MAAM,CAACE,YAAY,WAAW,CAACF,EAAG,SAAS,CAACE,YAAY,iBAAiBK,MAAM,CAAC,SAAWX,EAAI2B,gBAAgBC,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAO7B,EAAI8B,cAAc,QAAQ,CAAC9B,EAAIO,GAAG,SAASH,EAAG,MAAM,CAACE,YAAY,WAAW,CAACF,EAAG,QAAQ,CAAC2B,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAOlC,EAAIS,YAAoB,SAAE0B,WAAW,yBAAyB7B,YAAY,0BAA0BK,MAAM,CAAC,KAAO,UAAUK,SAAS,CAAC,MAAShB,EAAIS,YAAoB,UAAGmB,GAAG,CAAC,OAAS,SAASC,GAAQ,OAAO7B,EAAIoC,kBAAkB,MAAQ,SAASP,GAAWA,EAAOQ,OAAOC,WAAqBtC,EAAIuC,KAAKvC,EAAIS,YAAa,WAAYoB,EAAOQ,OAAOH,aAAa9B,EAAG,MAAM,CAACE,YAAY,WAAW,CAACF,EAAG,SAAS,CAACE,YAAY,kBAAkBsB,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAO7B,EAAI8B,cAAc,QAAQ,CAAC9B,EAAIO,GAAG,SAASH,EAAG,SAAS,CAACE,YAAY,8CAA8CgB,MAAM,CAAC,aAActB,EAAIwC,WAAW7B,MAAM,CAAC,SAAWX,EAAIS,YAAYgB,QAAQX,MAAQ,GAAGc,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAO7B,EAAIyC,UAAUzC,EAAIS,YAAYiC,GAAI1C,EAAIS,YAAYkC,aAAa,CAAC3C,EAAIO,GAAG,qBAAqBP,EAAIe,OAAOX,EAAG,MAAM,CAACE,YAAY,UAAU,CAACF,EAAG,SAAS,CAACE,YAAY,gCAAgCsB,GAAG,CAAC,MAAQ,SAASC,GAAgC,OAAxBA,EAAOe,iBAAwB5C,EAAI6C,QAAQC,KAAK,gBAAgB,CAAC9C,EAAIO,GAAG,eAAeH,EAAG,MAAM,CAACE,YAAY,WAAW,CAAEN,EAAIS,YAAoB,SAAEL,EAAG,MAAM,CAACE,YAAY,UAAU,CAACF,EAAG,kBAAkB,CAACO,MAAM,CAAC,MAAQ,OAAO,UAAY,gBAAgB,KAAOX,EAAIS,YAAYC,SAAS,GAAKV,EAAIS,YAAYiC,OAAO,GAAG1C,EAAIe,OAAOX,EAAG,MAAM,CAACE,YAAY,0BAA0B,CAACF,EAAG,MAAM,CAACE,YAAY,gEAAgE,CAACN,EAAIO,GAAG,UAAUH,EAAG,MAAM,CAACE,YAAY,mCAAmCN,EAAI+C,GAAI/C,EAAIS,YAAYgB,QAAe,SAAE,SAASuB,GAAS,OAAO5C,EAAG,MAAM,CAAC6C,IAAID,EAAQN,GAAGpC,YAAY,0BAA0B,CAACF,EAAG,MAAM,CAACE,YAAY,OAAO,CAACF,EAAG,UAAU,CAACE,YAAY,SAAS,CAACF,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,SAAS,CAACE,YAAY,kBAAkB,CAACF,EAAG,MAAM,CAACO,MAAM,CAAC,IAAMqC,EAAQE,WAAW9C,EAAG,MAAM,CAACE,YAAY,iBAAiB,CAACF,EAAG,MAAM,CAACE,YAAY,mBAAmB,CAACF,EAAG,IAAI,CAACE,YAAY,iBAAiB,CAACF,EAAG,SAAS,CAACE,YAAY,kBAAkB,CAACN,EAAIO,GAAGP,EAAIQ,GAAGwC,EAAQN,OAAO1C,EAAI+C,GAAG,GAAI,SAASI,GAAG,OAAO/C,EAAG,OAAO,CAAC6C,IAAIE,EAAE7C,YAAY,eAAegB,MAAMtB,EAAIoD,KAAKD,EAAGH,EAAQK,OAAO,CAACrD,EAAIO,GAAG,WAAU,GAAGH,EAAG,IAAI,CAACE,YAAY,sCAAsCN,EAAI+C,GAAG,GAAI,SAASI,GAAG,OAAO/C,EAAG,OAAO,CAAC6C,IAAIE,EAAE7C,YAAY,OAAOgB,MAAMtB,EAAIoD,KAAKD,EAAGH,EAAQK,OAAO,CAACrD,EAAIO,GAAG,UAAS,GAAGH,EAAG,OAAO,CAACE,YAAY,yBAAyB,CAACN,EAAIO,GAAGP,EAAIQ,GAAGwC,EAAQM,YAAYlD,EAAG,kBAAiB,UACziJmD,EAAkB,G,gFCkGtB,GACEvB,KAAM,UACNwB,WAAY,CACVC,gBAAJ,QAEEC,KALF,WAMI,MAAO,CACLlB,WAAW,IAGfmB,SAAU,OAAZ,OAAY,CAAZ,kBACA,gBACI,YAAJ,sBACI,QAAJ,aAHA,IAKIhC,eALJ,WAMM,OAAqC,IAA9B1B,KAAKQ,YAAYkC,UAE1B1B,mBARJ,WASM,OAAO,SAAb,YACA,kEACA,KAEImC,KAbJ,WAcM,OAAO,SAAb,+BAGEQ,QA3BF,WA4BI3D,KAAK4D,cAEPC,MAAO,CACL,gBAAiB,CACfC,QADN,WAEY9D,KAAK+D,OAAOC,SAAWhE,KAAKQ,YAAYiC,IAC1CzC,KAAK4D,gBAKbK,QAAS,OAAX,OAAW,CAAX,kBACA,gBACI,OAAJ,SACI,eAAJ,yBACI,iBAAJ,2BACI,cAAJ,mBALA,IAOIL,WAPJ,WAOA,WACA,sBACQM,QAAS,IAEjB,wBACM,OAAN,OAAM,CAAN,GACA,kBAAQ,IACR,cACQ,EAAR,8BACQ,EAAR,gDACA,GADA,IAEU,SAAV,KAEQ,EAAR,WAGIrC,cAvBJ,SAuBA,OACA,iCACsB,MAAZsC,EACEnE,KAAKQ,YAAYkC,SAAW,IAC9B1C,KAAKQ,YAAYkC,UAAY,GAEvC,UACY1C,KAAKQ,YAAYkC,SAAW,GAAK7B,EACnCb,KAAKQ,YAAYkC,UAAY,EAE7B1C,KAAKoE,OAAO,CACVC,MAAM,EACNC,IAAK,SAAjB,gDAKInC,eAxCJ,WAwCA,IACA,iCACUnC,KAAKQ,YAAYkC,SAAW,EAC9B1C,KAAKQ,YAAYkC,SAAW,EACpC,8BACQ1C,KAAKQ,YAAYkC,SAAW7B,EAC5Bb,KAAKoE,OAAO,CACVC,MAAM,EACNC,IAAK,SAAf,gDAII9B,UApDJ,SAoDA,gBACMxC,KAAKuC,WAAY,EADvB,IAEA,iCACM,GAAIE,GAAMC,EAAW,EAAG,CACtB,GAAIA,EAAW7B,EAKb,YAJAb,KAAKoE,OAAO,CACVC,MAAM,EACNC,IAAK,kBAIT,OAAR,OAAQ,CAAR,KACA,iBACU,EAAV,QACY,IAAZ,SACY,MAAZ,IAEU,EAAV,gBAEA,mBACU,EAAV,QACY,IAAZ,0BACY,MAAZ,IAEU,EAAV,oBAKEC,cAxHF,WAyHIvE,KAAKwE,qBC5NwU,I,wBCQ7UC,EAAY,eACd,EACA3E,EACAwD,GACA,EACA,KACA,WACA,MAIa,aAAAmB,E","file":"js/chunk-1b430c95.ad7a3294.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Product.vue?vue&type=style&index=0&id=598513b7&lang=sass&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Product.vue?vue&type=style&index=0&id=598513b7&lang=sass&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"section is-paddingless\"},[_c('div',{staticClass:\"container mt-1\"},[_c('div',{staticClass:\"columns is-desktop\"},[_c('div',{staticClass:\"column is-full\"},[(_vm.tempProduct)?_c('div',{staticClass:\"box is-shadowless\"},[_c('div',{staticClass:\"columns\"},[_c('span',{staticClass:\"tag is-primary is-fixed is-uppercase\"},[_vm._v(_vm._s(_vm.tempProduct.category))]),_c('div',{staticClass:\"colum is-img-centered\"},[_c('div',{staticClass:\"crad-image\"},[_c('figure',{staticClass:\"image\"},[_c('img',{attrs:{\"src\":_vm.tempProduct.imageUrl[0]}})])])]),_c('div',{staticClass:\"column has-text-left\"},[_c('h4',{staticClass:\"title is-4\"},[_vm._v(_vm._s(_vm.tempProduct.title)),(_vm.tempProduct.store < 5)?_c('span',{staticClass:\"ml-2 tag is-danger\"},[_vm._v(\"HOT\")]):_vm._e()]),_c('div',{staticClass:\"tag content-tag is-light mb-1\"},[_vm._v(\"產品說明\")]),_c('section',{staticClass:\"description mb-3\"},[_c('p',{staticClass:\"is-marginless\",domProps:{\"innerHTML\":_vm._s(_vm.descriptionDisplay(_vm.tempProduct.content))}})]),_c('div',{staticClass:\"tag content-tag is-light mb-1\"},[_vm._v(\"產品資訊\")]),_c('section',{staticClass:\"content mb-3\"},[_c('p',{staticClass:\"is-marginless\",domProps:{\"innerHTML\":_vm._s(_vm.descriptionDisplay(_vm.tempProduct.description))}})]),_c('div',{staticClass:\"tag content-tag is-light mb-1\"},[_vm._v(\"售價\")]),_c('div',{staticClass:\"price is-size-5 has-text-weight-bold mb-3\"},[_vm._v(_vm._s(_vm._f(\"cash\")(_vm.tempProduct.price))),_c('span',{staticClass:\"is-size-6\",class:{strike: _vm.tempProduct.price}},[_vm._v(_vm._s(_vm._f(\"cash\")(_vm.tempProduct.origin_price)))])]),_c('div',{staticClass:\"tag content-tag is-light mb-1\"},[_vm._v(\"庫存\")]),_c('p',{staticClass:\"mb-3\"},[_vm._v(_vm._s(_vm.tempProduct.options.store)+\" \"+_vm._s(_vm.tempProduct.unit))]),_c('div',{staticClass:\"card-foot\"},[_c('div',{staticClass:\"field has-addons has-addons-lefted mt-1\"},[_c('div',{staticClass:\"control\"},[_c('button',{staticClass:\"button is-left\",attrs:{\"disabled\":_vm.quantityMinest},on:{\"click\":function($event){return _vm.countQuantity('m')}}},[_vm._v(\"−\")])]),_c('div',{staticClass:\"control\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.tempProduct.quantity),expression:\"tempProduct.quantity\"}],staticClass:\"input has-text-centered\",attrs:{\"type\":\"number\"},domProps:{\"value\":(_vm.tempProduct.quantity)},on:{\"change\":function($event){return _vm.updateCartData()},\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.tempProduct, \"quantity\", $event.target.value)}}})]),_c('div',{staticClass:\"control\"},[_c('button',{staticClass:\"button is-right\",on:{\"click\":function($event){return _vm.countQuantity('p')}}},[_vm._v(\"+\")])]),_c('button',{staticClass:\"button is-primary addCart mx-2 is-fullwidth\",class:{'is-loading': _vm.isLoading},attrs:{\"disabled\":_vm.tempProduct.options.store < 1},on:{\"click\":function($event){return _vm.addToCart(_vm.tempProduct.id, _vm.tempProduct.quantity)}}},[_vm._v(\"加入購物車\")])])])])])]):_vm._e()]),_c('div',{staticClass:\"column\"},[_c('button',{staticClass:\"button is-text is-pulled-left\",on:{\"click\":function($event){$event.preventDefault();return _vm.$router.push('/products')}}},[_vm._v(\"« 上一頁\")])])]),_c('div',{staticClass:\"columns\"},[(_vm.tempProduct.category)?_c('div',{staticClass:\"column\"},[_c('RandomRecommend',{attrs:{\"title\":\"相關商品\",\"titleSide\":\"has-text-left\",\"type\":_vm.tempProduct.category,\"id\":_vm.tempProduct.id}})],1):_vm._e()]),_c('div',{staticClass:\"box is-shadowless mt-1\"},[_c('div',{staticClass:\"subtitle is-4 is-clearfix has-text-weight-bold has-text-left\"},[_vm._v(\"商品評論\")]),_c('div',{staticClass:\"columns is-multiline is-desktop\"},_vm._l((_vm.tempProduct.options.feeback),function(feeback){return _c('div',{key:feeback.id,staticClass:\"column is-half-desktop\"},[_c('div',{staticClass:\"box\"},[_c('article',{staticClass:\"media\"},[_c('div',{staticClass:\"media-left\"},[_c('figure',{staticClass:\"image is-64x64\"},[_c('img',{attrs:{\"src\":feeback.pic}})])]),_c('div',{staticClass:\"media-content\"},[_c('div',{staticClass:\"comment-content\"},[_c('p',{staticClass:\"has-text-left\"},[_c('strong',{staticClass:\"is-size-5 mr-2\"},[_vm._v(_vm._s(feeback.id))]),_vm._l((5),function(x){return _c('span',{key:x,staticClass:\"star desktop\",class:_vm.fill(x, feeback.star)},[_vm._v(\"★\")])})],2),_c('p',{staticClass:\"has-text-left is-marginless mobile\"},_vm._l((5),function(x){return _c('span',{key:x,staticClass:\"star\",class:_vm.fill(x, feeback.star)},[_vm._v(\"★\")])}),0),_c('span',{staticClass:\"has-text-left comment\"},[_vm._v(_vm._s(feeback.comment))]),_c('p')])])])])])}),0)])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template lang=\"pug\">\n  section.section.is-paddingless\n    .container.mt-1\n      .columns.is-desktop\n        .column.is-full\n          .box.is-shadowless(v-if=\"tempProduct\")\n            .columns\n              span.tag.is-primary.is-fixed.is-uppercase\n                | {{ tempProduct.category }}\n              .colum.is-img-centered\n                .crad-image\n                  figure.image\n                    img(:src=\"tempProduct.imageUrl[0]\")\n              .column.has-text-left\n                h4.title.is-4 {{ tempProduct.title }}\n                  span(v-if=\"tempProduct.store < 5\").ml-2.tag.is-danger HOT\n                .tag.content-tag.is-light.mb-1 產品說明\n                section.description.mb-3\n                  p.is-marginless(\n                    v-html=\"descriptionDisplay(tempProduct.content)\"\n                  )\n                .tag.content-tag.is-light.mb-1 產品資訊\n                section.content.mb-3\n                  p.is-marginless(\n                    v-html=\"descriptionDisplay(tempProduct.description)\"\n                  )\n                .tag.content-tag.is-light.mb-1 售價\n                .price.is-size-5.has-text-weight-bold.mb-3 {{ tempProduct.price | cash }}\n                  span.is-size-6(:class=\"{strike: tempProduct.price}\")\n                    | {{ tempProduct.origin_price | cash }}\n                .tag.content-tag.is-light.mb-1 庫存\n                p.mb-3 {{ tempProduct.options.store }} {{ tempProduct.unit }}\n                .card-foot\n                  .field.has-addons.has-addons-lefted.mt-1\n                    .control\n                      button.button.is-left(\n                        @click=\"countQuantity('m')\"\n                        :disabled=\"quantityMinest\"\n                      ) &minus;\n                    .control\n                      input.input.has-text-centered(\n                        type=\"number\"\n                        v-model=\"tempProduct.quantity\"\n                        @change=\"updateCartData()\"\n                      )\n                    .control\n                      button.button.is-right(\n                        @click=\"countQuantity('p')\"\n                      ) &plus;\n                    button.button.is-primary.addCart.mx-2.is-fullwidth(\n                      @click=\"addToCart(tempProduct.id, tempProduct.quantity)\"\n                      :class=\"{'is-loading': isLoading}\"\n                      :disabled=\"tempProduct.options.store < 1\"\n                    ) 加入購物車\n        .column\n          button.button.is-text.is-pulled-left(\n            @click.prevent=\"$router.push('/products')\"\n          ) &laquo; 上一頁\n      .columns\n        .column(v-if=\"tempProduct.category\")\n          RandomRecommend(\n            title=\"相關商品\"\n            titleSide=\"has-text-left\"\n            :type=\"tempProduct.category\"\n            :id=\"tempProduct.id\"\n          )\n      .box.is-shadowless.mt-1\n        .subtitle.is-4.is-clearfix.has-text-weight-bold.has-text-left 商品評論\n        .columns.is-multiline.is-desktop\n          .column.is-half-desktop(\n            v-for=\"feeback in tempProduct.options.feeback\"\n            :key=\"feeback.id\"\n          )\n            .box\n              article.media\n                .media-left\n                  figure.image.is-64x64\n                    img(:src=\"feeback.pic\")\n                .media-content\n                  .comment-content\n                    p.has-text-left\n                      strong.is-size-5.mr-2 {{ feeback.id }}\n                      span.star.desktop(\n                        v-for=\"x in 5\"\n                        :key=\"x\"\n                        :class=\"fill(x, feeback.star)\"\n                      ) &#9733;\n                      p.has-text-left.is-marginless.mobile: span.star(\n                        v-for=\"x in 5\"\n                        :key=\"x\"\n                        :class=\"fill(x, feeback.star)\"\n                      ) &#9733;\n                      span.has-text-left.comment {{ feeback.comment }}\n</template>\n<script>\nimport { mapGetters, mapActions } from 'vuex';\nimport { addCart, getDataDetail } from '@/apis/frontend';\nimport RandomRecommend from '@/components/RandomRecommend.vue';\n\nexport default {\n  name: 'Product',\n  components: {\n    RandomRecommend,\n  },\n  data() {\n    return {\n      isLoading: false,\n    };\n  },\n  computed: {\n    ...mapGetters({\n      tempProduct: 'product/tempProduct',\n      loading: 'loading',\n    }),\n    quantityMinest() {\n      return this.tempProduct.quantity === 1;\n    },\n    descriptionDisplay() {\n      return (discription) => (discription\n        ? discription.replace(/\\n/g, '<br>').replace(/\\t/g, '&nbsp;&nbsp;&nbsp;&nbsp;')\n        : '');\n    },\n    fill() {\n      return (index, rate) => (index <= rate ? 'fill' : '');\n    },\n  },\n  created() {\n    this.getProduct();\n  },\n  watch: {\n    '$route.params': {\n      handler() {\n        if (this.$route.params !== this.tempProduct.id) {\n          this.getProduct();\n        }\n      },\n    },\n  },\n  methods: {\n    ...mapActions({\n      setMsg: 'setMsg',\n      setTempProduct: 'product/setTempProduct',\n      clearTempProduct: 'product/clearTempProduct',\n      toggleLoading: 'toggleLoading',\n    }),\n    getProduct() {\n      const loader = this.$loading.show({\n        opacity: 1,\n      });\n      const { id } = this.$route.params;\n      getDataDetail(id)\n        .then((resp) => {\n          const { data } = resp.data;\n          data.options = JSON.parse(data.options);\n          this.setTempProduct({\n            ...data,\n            quantity: 1,\n          });\n          loader.hide();\n        });\n    },\n    countQuantity(operate) {\n      const { store } = this.tempProduct.options;\n      if (operate === 'm') {\n        if (this.tempProduct.quantity > 1) {\n          this.tempProduct.quantity -= 1;\n        }\n      } else if (operate === 'p') {\n        if (this.tempProduct.quantity + 1 <= store) {\n          this.tempProduct.quantity += 1;\n        } else {\n          this.setMsg({\n            type: false,\n            msg: `商品只剩下 ${store} ${this.tempProduct.unit}`,\n          });\n        }\n      }\n    },\n    updateCartData() {\n      const { store } = this.tempProduct.options;\n      if (this.tempProduct.quantity < 1) {\n        this.tempProduct.quantity = 1;\n      } else if (this.tempProduct.quantity > store) {\n        this.tempProduct.quantity = store;\n        this.setMsg({\n          type: false,\n          msg: `商品只剩下 ${store} ${this.tempProduct.unit}`,\n        });\n      }\n    },\n    addToCart(id, quantity) {\n      this.isLoading = true;\n      const { store } = this.tempProduct.options;\n      if (id && quantity > 0) {\n        if (quantity > store) {\n          this.setMsg({\n            type: false,\n            msg: '下單數量超過商品庫存數量！',\n          });\n          return;\n        }\n        addCart(id, quantity)\n          .then(() => {\n            this.setMsg({\n              msg: '已加入購物車',\n              type: true,\n            });\n            this.isLoading = false;\n          })\n          .catch((error) => {\n            this.setMsg({\n              msg: error.response.data.errors[0],\n              type: false,\n            });\n            this.isLoading = false;\n          });\n      }\n    },\n  },\n  beforeDestroy() {\n    this.clearTempProduct();\n  },\n};\n</script>\n<style lang=\"sass\" scoped>\n@mixin small\n  @media screen and (max-width: 1280px)\n    @content\nhtml, body\n  height: 100%\n  font-family: 'Noto Sans TC', sans serif\nsection\n  height: 100%\n.is-fixed\n  position: absolute\n  top: 1.25rem\n  left: 1.25rem\n  z-index: 1\n.is-img-centered\n  display: flex\n  align-items: center\n  justify-content: center\n$darkgrayn: #46505e\n.content-tag\n  font-size: 16px\n  margin: 5px 0\n.description\n  min-height: 120px\n  max-height: 200px\n  +small\n    max-height: 215px\n  overflow: hidden\n  text-overflow: ellipsis\n  color: $darkgrayn\n.content\n  min-height: 120px\n  max-height: 120px\n  overflow: hidden\n  text-overflow: ellipsis\n  color: $darkgrayn\n.content, .price\n  margin-bottom: 10px\n.star\n  color: #ddd\n  text-shadow: .05em .05em #aaa\n  &.fill\n    color: #fd0\n.comment\n  font-size: 14px\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Product.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Product.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Product.vue?vue&type=template&id=598513b7&scoped=true&lang=pug&\"\nimport script from \"./Product.vue?vue&type=script&lang=js&\"\nexport * from \"./Product.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Product.vue?vue&type=style&index=0&id=598513b7&lang=sass&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"598513b7\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}