{"version":3,"sources":["webpack:///./src/views/PaySuccess.vue?9b56","webpack:///src/views/PaySuccess.vue","webpack:///./src/views/PaySuccess.vue?91fc","webpack:///./src/views/PaySuccess.vue","webpack:///./src/components/Order.vue?f342","webpack:///src/components/Order.vue","webpack:///./src/components/Order.vue?d8da","webpack:///./src/components/Order.vue","webpack:///./src/apis/frontend/index.js","webpack:///./src/views/PaySuccess.vue?81c1","webpack:///./src/components/Order.vue?4389"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","_v","staticStyle","staticRenderFns","name","components","Order","component","class","hide","isCollapse","_l","order","prod","key","product","id","imageUrl","_s","title","quantity","_f","price","collapseIcon","on","$event","toggleCollapse","_e","user","tel","email","address","payment","paidStatus","status","msg","paid","loading","doPay","data","created","computed","showCollapseButton","products","methods","toggleLoading","VUE_APP_API_UUID","process","Request","axios","create","timeout","baseURL","getAllProducts","p","get","getDataDetail","getCart","addCart","post","updateCart","patch","deleteCart","delete","checkCoupon","code","createOrder","getAllOrders","getOrder","payOrder"],"mappings":"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","file":"js/chunk-49e413ab.f7c6242c.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"hero-body pt-5\"},[_c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"columns is-centered\"},[_c('div',{staticClass:\"column is-two-thirds\"},[_c('div',{staticClass:\"has-text-success is-size-3 has-text-weight-bold\",attrs:{\"data-aos\":\"fade-down\",\"data-aos-delay\":\"500\"}},[_vm._v(\"付款成功\")]),_c('div',{staticClass:\"custom__icon icon__order--success svg inlinesvg\"},[_c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":\"36px\",\"height\":\"36px\"}},[_c('g',{attrs:{\"fill\":\"none\",\"stroke\":\"#48c774\",\"stroke-width\":\"2\"}},[_c('circle',{staticStyle:{\"stroke-dasharray\":\"240px, 240px\",\"stroke-dashoffset\":\"480px\"},attrs:{\"cx\":\"18\",\"cy\":\"18\",\"r\":\"17\"}}),_c('path',{staticStyle:{\"stroke-dasharray\":\"50px, 50px\",\"stroke-dashoffset\":\"0px\"},attrs:{\"d\":\"M6.417,18.778l7.93,7.909l15.444-15.393\"}})])])]),_c('Order',{attrs:{\"data-aos\":\"fade-in-up\",\"data-aos-delay\":\"1500\"}}),_c('router-link',{staticClass:\"my-5 button is-primary\",attrs:{\"to\":\"/products/\",\"data-aos\":\"fade-in-up\"}},[_vm._v(\"再去購物\")])],1)])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template lang=\"pug\">\n  section.hero-body.pt-5\n    .container\n      .columns.is-centered\n        .column.is-two-thirds\n          .has-text-success.is-size-3.has-text-weight-bold(\n            data-aos=\"fade-down\"\n            data-aos-delay=\"500\"\n          ) 付款成功\n          .custom__icon.icon__order--success.svg.inlinesvg\n            svg(\n              xmlns=\"http://www.w3.org/2000/svg\"\n              width=\"36px\"\n              height=\"36px\"\n            )\n              g(\n                fill=\"none\"\n                stroke=\"#48c774\"\n                stroke-width=\"2\"\n              )\n                circle(\n                  cx=\"18\"\n                  cy=\"18\"\n                  r=\"17\"\n                  style=\"stroke-dasharray:240px, 240px; stroke-dashoffset: 480px;\"\n                )\n                path(\n                  d=\"M6.417,18.778l7.93,7.909l15.444-15.393\"\n                  style=\"stroke-dasharray:50px, 50px; stroke-dashoffset: 0px;\"\n                )\n          Order(\n            data-aos=\"fade-in-up\"\n            data-aos-delay=\"1500\"\n          )\n          router-link.my-5.button.is-primary(\n              to=\"/products/\"\n              data-aos=\"fade-in-up\"\n            ) 再去購物\n</template>\n<script>\nimport Order from '@/components/Order.vue';\n\nexport default {\n  name: 'PaySuccess',\n  components: {\n    Order,\n  },\n};\n</script>\n<style lang=\"sass\" scoped>\n\n  @keyframes checkmark\n    0%\n      stroke-dashoffset: 50px\n    100%\n      stroke-dashoffset: 0\n\n  @keyframes checkmark-circle\n    0%\n      stroke-dashoffset: 240px\n    100%\n      stroke-dashoffset: 480px\n\n  .inlinesvg svg\n    display: inline\n  .icon__order--success svg path\n    animation: checkmark 0.25s ease-in-out 0.7s backwards\n    animation-delay: 1.6s\n\n  .icon__order--success svg circle\n    animation: checkmark-circle 0.6s ease-in-out backwards\n    animation-delay: 1s\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PaySuccess.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PaySuccess.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PaySuccess.vue?vue&type=template&id=03cfb52c&scoped=true&lang=pug&\"\nimport script from \"./PaySuccess.vue?vue&type=script&lang=js&\"\nexport * from \"./PaySuccess.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PaySuccess.vue?vue&type=style&index=0&id=03cfb52c&lang=sass&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"03cfb52c\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"order\"},[_c('h4',{staticClass:\"h4t has-text-left\"},[_c('font-awesome-icon',{staticClass:\"icon is-small\",attrs:{\"icon\":['far', 'clipboard']}}),_c('span',[_vm._v(\" 購物清單\")])],1),_c('div',{staticClass:\"list\",class:{hide: !_vm.isCollapse}},_vm._l((_vm.order.products),function(prod){return _c('div',{key:prod.product.id,staticClass:\"columns is-marginless has-text-centered is-vcentered\"},[_c('div',{staticClass:\"column is-paddingless is-marginless is-3 mobile\"},[_c('div',{staticClass:\"box is-shadowless py-1 px-2\"},[_c('div',{staticClass:\"media\"},[_c('div',{staticClass:\"media-left\"},[_c('figure',{staticClass:\"image is-64x64 is-inline-block mr-1\"},[_c('img',{attrs:{\"src\":prod.product.imageUrl[0]}})])]),_c('div',{staticClass:\"content\"},[_c('div',{staticClass:\"is-5 has-text-weight-bold\"},[_vm._v(_vm._s(prod.product.title))]),_c('p',{staticClass:\"is-marginless\"},[_vm._v(\"x\"+_vm._s(prod.quantity))]),_c('p',{staticClass:\"is-marginless\"},[_vm._v(_vm._s(_vm._f(\"cash\")(prod.product.price)))])])])])]),_c('div',{staticClass:\"column desktop\"},[_c('figure',{staticClass:\"image is-128x128\"},[_c('img',{attrs:{\"src\":prod.product.imageUrl[0]}})])]),_c('div',{staticClass:\"column desktop\"},[_vm._v(_vm._s(prod.product.title))]),_c('div',{staticClass:\"column desktop\"},[_vm._v(\"x\"+_vm._s(prod.quantity))]),_c('div',{staticClass:\"column desktop\"},[_vm._v(_vm._s(_vm._f(\"cash\")(prod.product.price)))])])}),0),(_vm.showCollapseButton)?_c('div',{staticClass:\"columns is-marginless collapse is-centered\"},[_c('div',{staticClass:\"column is-full\"},[_c('button',{staticClass:\"collapse__btn\",class:_vm.collapseIcon,on:{\"click\":function($event){return _vm.toggleCollapse()}}},[_c('font-awesome-icon',{attrs:{\"icon\":['fas', _vm.isCollapse?'angle-double-up' : 'angle-double-down']}})],1)])]):_vm._e(),_c('h4',{staticClass:\"h4t has-text-left\"},[_c('font-awesome-icon',{staticClass:\"titleIcon\",attrs:{\"icon\":['fas', 'info-circle']}}),_vm._v(\" 訂單資訊\")],1),(_vm.order.user)?_c('table',{staticClass:\"table is-fullwidth\"},[_c('tr',[_c('td',[_vm._v(\"姓名\")]),_c('td',[_vm._v(_vm._s(_vm.order.user.name))])]),_c('tr',[_c('td',[_vm._v(\"電話\")]),_c('td',[_vm._v(_vm._s(_vm.order.user.tel))])]),_c('tr',[_c('td',[_vm._v(\"信箱\")]),_c('td',[_vm._v(_vm._s(_vm.order.user.email))])]),_c('tr',[_c('td',[_vm._v(\"地址\")]),_c('td',[_vm._v(_vm._s(_vm.order.user.address))])]),_c('tr',[_c('td',[_vm._v(\"付款方式\")]),_c('td',[_vm._v(_vm._s(_vm.order.payment))])]),_c('tr',[_c('td',[_vm._v(\"付款狀態\")]),_c('td',{staticClass:\"has-text-weight-bold\",class:_vm.paidStatus.status},[_vm._v(_vm._s(_vm.paidStatus.msg))])])]):_vm._e(),(!_vm.order.paid)?_c('button',{staticClass:\"button is-primary\",class:{'is-loading': _vm.loading},on:{\"click\":function($event){return _vm.doPay(_vm.order.id)}}},[_vm._v(\"確認付款\")]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template lang=\"pug\">\n  .order\n    h4.h4t.has-text-left\n      font-awesome-icon.icon.is-small(:icon=\"['far', 'clipboard']\")\n      span &nbsp; 購物清單\n    .list(:class=\"{hide: !isCollapse}\")\n      .columns.is-marginless.has-text-centered.is-vcentered(\n        v-for=\"prod in order.products\"\n        :key=\"prod.product.id\"\n      )\n        .column.is-paddingless.is-marginless.is-3.mobile\n          .box.is-shadowless.py-1.px-2\n            .media\n              .media-left\n                figure.image.is-64x64.is-inline-block.mr-1\n                  img(:src=\"prod.product.imageUrl[0]\")\n              .content\n                .is-5.has-text-weight-bold {{ prod.product.title }}\n                p.is-marginless x{{ prod.quantity }}\n                p.is-marginless {{ prod.product.price | cash }}\n        .column.desktop\n          figure.image.is-128x128\n            img(:src=\"prod.product.imageUrl[0]\")\n        .column.desktop {{ prod.product.title }}\n        .column.desktop x{{ prod.quantity }}\n        .column.desktop {{ prod.product.price | cash }}\n    .columns.is-marginless.collapse.is-centered(\n      v-if=\"showCollapseButton\"\n    )\n      .column.is-full\n        button.collapse__btn(\n          :class=\"collapseIcon\"\n          @click=\"toggleCollapse()\"\n        )\n          font-awesome-icon(\n            :icon=\"['fas', isCollapse?'angle-double-up' : 'angle-double-down']\"\n          )\n    h4.h4t.has-text-left\n      font-awesome-icon.titleIcon(:icon=\"['fas', 'info-circle']\")\n      | &nbsp; 訂單資訊\n    table.table.is-fullwidth(v-if=\"order.user\")\n      tr\n        td 姓名\n        td {{ order.user.name }}\n      tr\n        td 電話\n        td {{ order.user.tel }}\n      tr\n        td 信箱\n        td {{ order.user.email }}\n      tr\n        td 地址\n        td {{ order.user.address }}\n      tr\n        td 付款方式\n        td {{ order.payment }}\n      tr\n        td 付款狀態\n        td.has-text-weight-bold(:class=\"paidStatus.status\") {{ paidStatus.msg }}\n    button.button.is-primary(\n      :class=\"{'is-loading': loading}\"\n      v-if=\"!order.paid\"\n      @click=\"doPay(order.id)\"\n    ) 確認付款\n</template>\n<script>\nimport { mapGetters, mapActions } from 'vuex';\nimport { getOrder, payOrder } from '@/apis/frontend';\n\nexport default {\n  data() {\n    return {\n      isCollapse: false,\n    };\n  },\n  created() {\n    const loader = this.$loading.show();\n    const { id } = this.$route.params;\n    getOrder(id)\n      .then((resp) => {\n        this.setOrder(resp.data.data);\n        this.setCurrentStep(this.order.paid ? 3 : 2);\n        loader.hide();\n      });\n  },\n  computed: {\n    ...mapGetters({\n      order: 'order/order',\n      loading: 'loading',\n    }),\n    collapseIcon() {\n      return this.isCollapse ? 'up' : 'down';\n    },\n    showCollapseButton() {\n      return this.order.products\n        ? this.order.products.length > 2\n        : false;\n    },\n    paidStatus() {\n      return (this.order.paid\n        ? { status: 'has-text-success', msg: '已付款' }\n        : { status: 'has-text-danger', msg: '未付款' });\n    },\n  },\n  methods: {\n    ...mapActions({\n      setMsg: 'setMsg',\n      setOrder: 'order/setOrder',\n      toggleLoading: 'toggleLoading',\n      setCurrentStep: 'setCurrentStep',\n    }),\n    toggleCollapse() {\n      this.isCollapse = !this.isCollapse;\n    },\n    doPay(id) {\n      this.toggleLoading();\n      payOrder(id)\n        .then((resp) => {\n          this.setOrder(resp.data.data);\n          this.toggleLoading();\n          this.setMsg({\n            msg: '付款完成！',\n            type: true,\n          });\n          this.setCurrentStep(3);\n          this.$router.push(`/paysuccess/${resp.data.data.id}`);\n        })\n        .catch(() => {\n          this.toggleLoading();\n          this.setMsg({\n            msg: '付款失敗！',\n            type: false,\n          });\n        });\n    },\n  },\n};\n</script>\n<style lang=\"sass\" scoped>\n@keyframes collapseAnimation\n  0%\n    transform: translateY(0)\n  50%\n    transform: translateY(10%)\n  100%\n    transform: translateY(20%)\n@mixin pad\n  @media screen and (max-width: 768px)\n    @content\n@mixin mobile-large\n  @media screen and (max-width: 414px)\n    @content\n@mixin mobile\n  @media screen and (max-width: 413px) and (min-width: 375px)\n    @content\n@mixin xxs\n  @media screen and (max-width: 375px)\n    @content\n\n.list\n  overflow: hidden\n  &.hide\n    max-height: 450px\n    +pad\n      max-height: 300px\n    +mobile-large\n      max-height: 190px\n    +mobile\n      max-height: 200px\n    +xxs\n      max-height: 210px\n.collapse__btn\n  cursor: pointer\n  padding: 1% 2%\n  border: 0\n  background: transparent\n  outline: none\n  transform: translateY(0)\n  &.down\n    animation: collapseAnimation 1s infinite linear forwards\n  &.up\n    animation: collapseAnimation 1s infinite linear reverse forwards\n  &:hover\n    animation-play-state: paused\nsection\n  padding: 20px 0 100px\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Order.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Order.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Order.vue?vue&type=template&id=fd3fa77c&scoped=true&lang=pug&\"\nimport script from \"./Order.vue?vue&type=script&lang=js&\"\nexport * from \"./Order.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Order.vue?vue&type=style&index=0&id=fd3fa77c&lang=sass&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"fd3fa77c\",\n  null\n  \n)\n\nexport default component.exports","import axios from 'axios';\n\nconst { VUE_APP_API_UUID } = process.env;\nconst Request = axios.create({\n  timeout: 30000,\n  baseURL: `https://course-ec-api.hexschool.io/api/${VUE_APP_API_UUID}/ec/`,\n});\n\n/** product api */\nexport const getAllProducts = (p = 1) => Request.get(`products?page=${p}`);\nexport const getDataDetail = (id) => Request.get(`product/${id}`);\n\n/** shopcart api */\nexport const getCart = () => Request.get('shopping');\nexport const addCart = (product, quantity) => Request.post('shopping', {\n  product,\n  quantity,\n});\nexport const updateCart = (product, quantity) => Request.patch('shopping', {\n  product,\n  quantity,\n});\nexport const deleteCart = (product) => (product ? Request.delete(`shopping/${product}`) : Request.delete('shopping/all/product'));\n\nexport const checkCoupon = (code) => Request.post('coupon/search', {\n  code,\n});\n\nexport const createOrder = (data) => Request.post('orders', { ...data });\nexport const getAllOrders = () => Request.get('orders');\nexport const getOrder = (id) => Request.get(`orders/${id}`);\nexport const payOrder = (id) => Request.post(`orders/${id}/paying`);\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PaySuccess.vue?vue&type=style&index=0&id=03cfb52c&lang=sass&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PaySuccess.vue?vue&type=style&index=0&id=03cfb52c&lang=sass&scoped=true&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Order.vue?vue&type=style&index=0&id=fd3fa77c&lang=sass&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Order.vue?vue&type=style&index=0&id=fd3fa77c&lang=sass&scoped=true&\""],"sourceRoot":""}