(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-49ed63aa"],{"159d":function(t,s,e){"use strict";e.r(s);var n=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("section",{staticClass:"hero-body"},[e("div",{staticClass:"container"},t._l(t.orders,(function(s,n){return e("div",{key:s.id,staticClass:"columns is-marginless is-multiline"},[e("div",{staticClass:"column is-full is-vcentered"},[e("ul",{staticClass:"menu-list"},[e("li",[e("table",{staticClass:"table is-fullwidth is-bordered"},[t._m(0,!0),e("tbody",[e("tr",[e("td",{staticClass:"col"},[e("div",{staticClass:"txt"},[e("router-link",{staticClass:"is-text",attrs:{to:"/payment/"+s.id,title:s.id}},[t._v(t._s(t._f("hideTitle")(s.id)))])],1)]),e("td",{staticClass:"col"},[t._v(t._s(s.created.datetime))]),e("td",{staticClass:"col"},[t._v("已建立")]),e("td",{staticClass:"col"},[t._v(t._s(t._f("cash")(s.amount)))]),e("td",{staticClass:"col"},[e("div",[t._v(t._s(s.payment))]),e("div",{class:t.paidStatus(s.paid).status},[t._v("("+t._s(t.paidStatus(s.paid).msg)+")")])])])])])]),e("li",{staticClass:"has-text-left is-marginless"},[e("button",{staticClass:"button is-text is-small",on:{click:function(s){return t.toggleCollapse(n)}}},[e("span",{staticClass:"icon is-small"},[e("font-awesome-icon",{attrs:{icon:t.collapseProduct(n)[0]}})],1),e("span",[t._v("看明細")])]),e("ul",{class:{"is-hidden":!s.collapse}},t._l(s.products,(function(s,r){return e("li",{key:s.product.id},[e("table",{staticClass:"table is-fullwidth has-text-centered"},[e("td",[t._v(t._s(s.product.title))]),e("td",[t._v(t._s(s.quantity+s.product.unit))]),e("td",[t._v(t._s(t._f("cash")(t.itemTotal(n,r))))])])])})),0)])])]),t._m(1,!0)])})),0)])},r=[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("thead",[e("tr",[e("th",[t._v("訂單編號")]),e("th",[t._v("日期")]),e("th",[t._v("訂單狀態")]),e("th",[t._v("總價")]),e("th",[t._v("付款")])])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"column is-marginless is-paddingless"},[e("hr",{staticClass:"hr"})])}],i=e("5530"),c=e("2f62"),a=e("d58c"),o={name:"Orders",created:function(){this.loadOrders()},computed:Object(i["a"])(Object(i["a"])({},Object(c["c"])({orders:"order/orders"})),{},{collapseProduct:function(){var t=this;return function(s){return t.orders[s].collapse?[["fas","minus"]]:[["fas","plus"]]}},paidStatus:function(){return function(t){return t?{status:"has-text-success",msg:"已付款"}:{status:"has-text-danger",msg:"未付款"}}},itemTotal:function(){var t=this;return function(s,e){var n=t.orders[s].products[e],r=n.product,i=n.quantity;return r.price?r.price*i:r.origin_price*i}}}),methods:Object(i["a"])(Object(i["a"])({},Object(c["b"])({setMsg:"setMsg",setOrders:"order/setOrders",setOrder:"order/setOrder"})),{},{loadOrders:function(){var t=this,s=this.$loading.show();Object(a["e"])().then((function(e){t.setOrders(e.data.data),s.hide()})).catch((function(e){t.setMsg({msg:e.response.message,type:!1}),s.hide()}))},toggleCollapse:function(t){this.orders[t].collapse?this.$delete(this.orders[t],"collapse"):this.$set(this.orders[t],"collapse",!0)}})},u=o,d=(e("df44"),e("2877")),l=Object(d["a"])(u,n,r,!1,null,"151189fa",null);s["default"]=l.exports},"26ff":function(t,s,e){},d58c:function(t,s,e){"use strict";e.d(s,"f",(function(){return o})),e.d(s,"h",(function(){return u})),e.d(s,"g",(function(){return d})),e.d(s,"a",(function(){return l})),e.d(s,"k",(function(){return f})),e.d(s,"d",(function(){return p})),e.d(s,"b",(function(){return h})),e.d(s,"c",(function(){return _})),e.d(s,"e",(function(){return v})),e.d(s,"i",(function(){return g})),e.d(s,"j",(function(){return m}));var n=e("5530"),r=e("bc3a"),i=e.n(r),c="dd62b88f-6f23-42a4-8551-b1cb4552bb3e",a=i.a.create({timeout:3e4,baseURL:"https://course-ec-api.hexschool.io/api/".concat(c,"/ec/")}),o=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return a.get("products?page=".concat(t))},u=function(t){return a.get("product/".concat(t))},d=function(){return a.get("shopping")},l=function(t,s){return a.post("shopping",{product:t,quantity:s})},f=function(t,s){return a.patch("shopping",{product:t,quantity:s})},p=function(t){return t?a.delete("shopping/".concat(t)):a.delete("shopping/all/product")},h=function(t){return a.post("coupon/search",{code:t})},_=function(t){return a.post("orders",Object(n["a"])({},t))},v=function(){return a.get("orders")},g=function(t){return a.get("orders/".concat(t))},m=function(t){return a.post("orders/".concat(t,"/paying"))}},df44:function(t,s,e){"use strict";var n=e("26ff"),r=e.n(n);r.a}}]);
//# sourceMappingURL=chunk-49ed63aa.4aee755c.js.map