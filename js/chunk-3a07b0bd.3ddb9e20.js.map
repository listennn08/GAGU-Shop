{"version":3,"sources":["webpack:///./src/components/Steps.vue?aaf9","webpack:///src/components/Steps.vue","webpack:///./src/components/Steps.vue?3b0c","webpack:///./src/components/Steps.vue","webpack:///./src/views/PayFlow.vue?5739","webpack:///src/views/PayFlow.vue","webpack:///./src/views/PayFlow.vue?a77b","webpack:///./src/views/PayFlow.vue","webpack:///./src/components/Order.vue?f342","webpack:///src/components/Order.vue","webpack:///./src/components/Order.vue?d8da","webpack:///./src/components/Order.vue","webpack:///./src/apis/frontend/index.js","webpack:///./src/components/Order.vue?4389"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_l","step","key","no","class","inStep","_v","_s","text","staticRenderFns","name","computed","data","steps","component","currentStep","attrs","_e","components","Steps","Order","hide","isCollapse","order","prod","product","id","imageUrl","title","quantity","_f","price","collapseIcon","on","$event","toggleCollapse","user","tel","email","address","payment","paidStatus","status","msg","paid","loading","doPay","created","showCollapseButton","products","methods","toggleLoading","VUE_APP_API_UUID","process","Request","axios","create","timeout","baseURL","getAllProducts","p","get","getDataDetail","getCart","addCart","post","updateCart","patch","deleteCart","delete","checkCoupon","code","createOrder","getAllOrders","getOrder","payOrder"],"mappings":"2IAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,SAASN,EAAIO,GAAIP,EAAS,OAAE,SAASQ,GAAM,OAAOJ,EAAG,MAAM,CAACK,IAAID,EAAKE,GAAGJ,YAAY,YAAYK,MAAMX,EAAIY,OAAOJ,EAAKE,KAAK,CAACN,EAAG,MAAM,CAACE,YAAY,eAAe,CAACN,EAAIa,GAAGb,EAAIc,GAAGN,EAAKE,OAAON,EAAG,MAAM,CAACE,YAAY,gBAAgB,CAACF,EAAG,IAAI,CAACE,YAAY,cAAc,CAACN,EAAIa,GAAGb,EAAIc,GAAGN,EAAKO,gBAAe,IAC1ZC,EAAkB,G,wBCatB,GACEC,KAAM,QACNC,SAAU,OAAZ,OAAY,CAAZ,kBACA,iCADA,IAEIN,OAFJ,WAEA,WACM,OAAO,SAAb,2BACA,uBACA,OAGEO,KAVF,WAWI,MAAO,CACLC,MAAO,CACb,CACQ,GAAR,EACQ,KAAR,QAEA,CACQ,GAAR,EACQ,KAAR,QAEA,CACQ,GAAR,EACQ,KAAR,YCrC+U,I,YCO3UC,EAAY,eACd,EACAtB,EACAiB,GACA,EACA,KACA,KACA,MAIa,OAAAK,E,kDClBf,IAAItB,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,UAAU,CAACA,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,MAAM,CAACE,YAAY,uBAAuB,CAACF,EAAG,MAAM,CAACE,YAAY,wBAAwB,CAACF,EAAG,SAASA,EAAG,SAA8B,IAApBJ,EAAIsB,YAAmBlB,EAAG,cAAc,CAACE,YAAY,yBAAyBiB,MAAM,CAAC,GAAK,eAAe,CAACvB,EAAIa,GAAG,UAAUb,EAAIwB,MAAM,YAC7aR,EAAkB,G,gDCiBtB,GACEC,KAAM,UACNQ,WAAY,CACVC,MAAJ,OACIC,MAAJ,QAEET,SAAU,OAAZ,OAAY,CAAZ,GACA,kCCzBiV,I,YCO7UG,EAAY,eACd,EACAtB,EACAiB,GACA,EACA,KACA,WACA,MAIa,aAAAK,E,2CClBf,IAAItB,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,SAAS,CAACF,EAAG,KAAK,CAACE,YAAY,qBAAqB,CAACF,EAAG,oBAAoB,CAACE,YAAY,gBAAgBiB,MAAM,CAAC,KAAO,CAAC,MAAO,gBAAgBnB,EAAG,OAAO,CAACJ,EAAIa,GAAG,YAAY,GAAGT,EAAG,MAAM,CAACE,YAAY,OAAOK,MAAM,CAACiB,MAAO5B,EAAI6B,aAAa7B,EAAIO,GAAIP,EAAI8B,MAAc,UAAE,SAASC,GAAM,OAAO3B,EAAG,MAAM,CAACK,IAAIsB,EAAKC,QAAQC,GAAG3B,YAAY,wDAAwD,CAACF,EAAG,MAAM,CAACE,YAAY,mDAAmD,CAACF,EAAG,MAAM,CAACE,YAAY,+BAA+B,CAACF,EAAG,MAAM,CAACE,YAAY,SAAS,CAACF,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,SAAS,CAACE,YAAY,uCAAuC,CAACF,EAAG,MAAM,CAACmB,MAAM,CAAC,IAAMQ,EAAKC,QAAQE,SAAS,UAAU9B,EAAG,MAAM,CAACE,YAAY,WAAW,CAACF,EAAG,MAAM,CAACE,YAAY,6BAA6B,CAACN,EAAIa,GAAGb,EAAIc,GAAGiB,EAAKC,QAAQG,UAAU/B,EAAG,IAAI,CAACE,YAAY,iBAAiB,CAACN,EAAIa,GAAG,IAAIb,EAAIc,GAAGiB,EAAKK,aAAahC,EAAG,IAAI,CAACE,YAAY,iBAAiB,CAACN,EAAIa,GAAGb,EAAIc,GAAGd,EAAIqC,GAAG,OAAPrC,CAAe+B,EAAKC,QAAQM,mBAAmBlC,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACF,EAAG,SAAS,CAACE,YAAY,oBAAoB,CAACF,EAAG,MAAM,CAACmB,MAAM,CAAC,IAAMQ,EAAKC,QAAQE,SAAS,UAAU9B,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACN,EAAIa,GAAGb,EAAIc,GAAGiB,EAAKC,QAAQG,UAAU/B,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACN,EAAIa,GAAG,IAAIb,EAAIc,GAAGiB,EAAKK,aAAahC,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACN,EAAIa,GAAGb,EAAIc,GAAGd,EAAIqC,GAAG,OAAPrC,CAAe+B,EAAKC,QAAQM,gBAAe,GAAItC,EAAsB,mBAAEI,EAAG,MAAM,CAACE,YAAY,8CAA8C,CAACF,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACF,EAAG,SAAS,CAACE,YAAY,gBAAgBK,MAAMX,EAAIuC,aAAaC,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOzC,EAAI0C,oBAAoB,CAACtC,EAAG,oBAAoB,CAACmB,MAAM,CAAC,KAAO,CAAC,MAAOvB,EAAI6B,WAAW,kBAAoB,yBAAyB,OAAO7B,EAAIwB,KAAKpB,EAAG,KAAK,CAACE,YAAY,qBAAqB,CAACF,EAAG,oBAAoB,CAACE,YAAY,YAAYiB,MAAM,CAAC,KAAO,CAAC,MAAO,kBAAkBvB,EAAIa,GAAG,UAAU,GAAIb,EAAI8B,MAAU,KAAE1B,EAAG,QAAQ,CAACE,YAAY,sBAAsB,CAACF,EAAG,KAAK,CAACA,EAAG,KAAK,CAACJ,EAAIa,GAAG,QAAQT,EAAG,KAAK,CAACJ,EAAIa,GAAGb,EAAIc,GAAGd,EAAI8B,MAAMa,KAAK1B,WAAWb,EAAG,KAAK,CAACA,EAAG,KAAK,CAACJ,EAAIa,GAAG,QAAQT,EAAG,KAAK,CAACJ,EAAIa,GAAGb,EAAIc,GAAGd,EAAI8B,MAAMa,KAAKC,UAAUxC,EAAG,KAAK,CAACA,EAAG,KAAK,CAACJ,EAAIa,GAAG,QAAQT,EAAG,KAAK,CAACJ,EAAIa,GAAGb,EAAIc,GAAGd,EAAI8B,MAAMa,KAAKE,YAAYzC,EAAG,KAAK,CAACA,EAAG,KAAK,CAACJ,EAAIa,GAAG,QAAQT,EAAG,KAAK,CAACJ,EAAIa,GAAGb,EAAIc,GAAGd,EAAI8B,MAAMa,KAAKG,cAAc1C,EAAG,KAAK,CAACA,EAAG,KAAK,CAACJ,EAAIa,GAAG,UAAUT,EAAG,KAAK,CAACJ,EAAIa,GAAGb,EAAIc,GAAGd,EAAI8B,MAAMiB,cAAc3C,EAAG,KAAK,CAACA,EAAG,KAAK,CAACJ,EAAIa,GAAG,UAAUT,EAAG,KAAK,CAACE,YAAY,uBAAuBK,MAAMX,EAAIgD,WAAWC,QAAQ,CAACjD,EAAIa,GAAGb,EAAIc,GAAGd,EAAIgD,WAAWE,YAAYlD,EAAIwB,KAAOxB,EAAI8B,MAAMqB,KAAsKnD,EAAIwB,KAApKpB,EAAG,SAAS,CAACE,YAAY,oBAAoBK,MAAM,CAAC,aAAcX,EAAIoD,SAASZ,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOzC,EAAIqD,MAAMrD,EAAI8B,MAAMG,OAAO,CAACjC,EAAIa,GAAG,aAC/xFG,EAAkB,G,oCCoEtB,GACEG,KADF,WAEI,MAAO,CACLU,YAAY,IAGhByB,QANF,WAMA,WACA,uBACA,wBACI,OAAJ,OAAI,CAAJ,GACA,kBACM,EAAN,sBACM,EAAN,iCACM,EAAN,WAGEpC,SAAU,OAAZ,OAAY,CAAZ,kBACA,gBACI,MAAJ,cACI,QAAJ,aAHA,IAKIqB,aALJ,WAMM,OAAOtC,KAAK4B,WAAa,KAAO,QAElC0B,mBARJ,WASM,QAAOtD,KAAK6B,MAAM0B,UACxB,8BAGIR,WAbJ,WAcM,OAAO,KAAb,WACA,CAAQ,OAAR,mBAAQ,IAAR,OACA,CAAQ,OAAR,kBAAQ,IAAR,UAGES,QAAS,OAAX,OAAW,CAAX,kBACA,gBACI,OAAJ,SACI,SAAJ,iBACI,cAAJ,gBACI,eAAJ,oBALA,IAOIf,eAPJ,WAQMzC,KAAK4B,YAAc5B,KAAK4B,YAE1BwB,MAVJ,SAUA,cACMpD,KAAKyD,gBACL,OAAN,OAAM,CAAN,GACA,kBACQ,EAAR,sBACQ,EAAR,gBACQ,EAAR,QACU,IAAV,QACU,MAAV,IAEQ,EAAR,kBACQ,EAAR,uDAEA,kBACQ,EAAR,gBACQ,EAAR,QACU,IAAV,QACU,MAAV,WCnI+U,I,wBCQ3UrC,EAAY,eACd,EACAtB,EACAiB,GACA,EACA,KACA,WACA,MAIa,OAAAK,E,scCjBPsC,EAAqBC,uCACvBC,EAAUC,IAAMC,OAAO,CAC3BC,QAAS,IACTC,QAAS,0CAAF,OAA4CN,EAA5C,UAIIO,EAAiB,eAACC,EAAD,uDAAK,EAAL,OAAWN,EAAQO,IAAR,wBAA6BD,KACzDE,EAAgB,SAACpC,GAAD,OAAQ4B,EAAQO,IAAR,kBAAuBnC,KAG/CqC,EAAU,kBAAMT,EAAQO,IAAI,aAC5BG,EAAU,SAACvC,EAASI,GAAV,OAAuByB,EAAQW,KAAK,WAAY,CACrExC,UACAI,cAEWqC,EAAa,SAACzC,EAASI,GAAV,OAAuByB,EAAQa,MAAM,WAAY,CACzE1C,UACAI,cAEWuC,EAAa,SAAC3C,GAAD,OAAcA,EAAU6B,EAAQe,OAAR,mBAA2B5C,IAAa6B,EAAQe,OAAO,yBAE5FC,EAAc,SAACC,GAAD,OAAUjB,EAAQW,KAAK,gBAAiB,CACjEM,UAGWC,EAAc,SAAC5D,GAAD,OAAU0C,EAAQW,KAAK,SAAb,kBAA4BrD,KACpD6D,EAAe,kBAAMnB,EAAQO,IAAI,WACjCa,EAAW,SAAChD,GAAD,OAAQ4B,EAAQO,IAAR,iBAAsBnC,KACzCiD,EAAW,SAACjD,GAAD,OAAQ4B,EAAQW,KAAR,iBAAuBvC,EAAvB,c,kCC/BhC,yBAAkiB,EAAG","file":"js/chunk-3a07b0bd.3ddb9e20.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"steps\"},_vm._l((_vm.steps),function(step){return _c('div',{key:step.no,staticClass:\"step-item\",class:_vm.inStep(step.no)},[_c('div',{staticClass:\"step-marker\"},[_vm._v(_vm._s(step.no))]),_c('div',{staticClass:\"step-details\"},[_c('p',{staticClass:\"step-title\"},[_vm._v(_vm._s(step.text))])])])}),0)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template lang=\"pug\">\n  .steps\n    .step-item(\n      v-for=\"step in steps\"\n      :key=\"step.no\"\n      :class=\"inStep(step.no)\"\n    )\n      .step-marker {{ step.no }}\n      .step-details\n        p.step-title {{ step.text }}\n</template>\n<script>\nimport { mapGetters } from 'vuex';\n\nexport default {\n  name: 'Steps',\n  computed: {\n    ...mapGetters(['currentStep']),\n    inStep() {\n      return (index) => (this.currentStep >= index\n        ? 'is-active is-success'\n        : '');\n    },\n  },\n  data() {\n    return {\n      steps: [\n        {\n          no: 1,\n          text: '填寫訂單',\n        },\n        {\n          no: 2,\n          text: '訂單確認',\n        },\n        {\n          no: 3,\n          text: '確認付款',\n        },\n      ],\n    };\n  },\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Steps.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Steps.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Steps.vue?vue&type=template&id=778d9103&lang=pug&\"\nimport script from \"./Steps.vue?vue&type=script&lang=js&\"\nexport * from \"./Steps.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',[_c('div',{staticClass:\"hero-body\"},[_c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"columns is-centered\"},[_c('div',{staticClass:\"column is-two-thirds\"},[_c('Steps'),_c('Order'),(_vm.currentStep === 3)?_c('router-link',{staticClass:\"my-5 button is-primary\",attrs:{\"to\":\"/products/\"}},[_vm._v(\"再去購物\")]):_vm._e()],1)])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template lang=\"pug\">\n  section\n    .hero-body\n      .container\n        .columns.is-centered\n          .column.is-two-thirds\n            Steps\n            Order\n            router-link.my-5.button.is-primary(\n              v-if=\"currentStep === 3\"\n              to=\"/products/\"\n            ) 再去購物\n</template>\n<script>\nimport { mapGetters } from 'vuex';\nimport Steps from '@/components/Steps.vue';\nimport Order from '@/components/Order.vue';\n\nexport default {\n  name: 'PayFlow',\n  components: {\n    Steps,\n    Order,\n  },\n  computed: {\n    ...mapGetters(['currentStep']),\n  },\n};\n</script>\n<style lang=\"sass\" scoped>\n\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PayFlow.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PayFlow.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PayFlow.vue?vue&type=template&id=64b08ec6&scoped=true&lang=pug&\"\nimport script from \"./PayFlow.vue?vue&type=script&lang=js&\"\nexport * from \"./PayFlow.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"64b08ec6\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"order\"},[_c('h4',{staticClass:\"h4t has-text-left\"},[_c('font-awesome-icon',{staticClass:\"icon is-small\",attrs:{\"icon\":['far', 'clipboard']}}),_c('span',[_vm._v(\" 購物清單\")])],1),_c('div',{staticClass:\"list\",class:{hide: !_vm.isCollapse}},_vm._l((_vm.order.products),function(prod){return _c('div',{key:prod.product.id,staticClass:\"columns is-marginless has-text-centered is-vcentered\"},[_c('div',{staticClass:\"column is-paddingless is-marginless is-3 mobile\"},[_c('div',{staticClass:\"box is-shadowless py-1 px-2\"},[_c('div',{staticClass:\"media\"},[_c('div',{staticClass:\"media-left\"},[_c('figure',{staticClass:\"image is-64x64 is-inline-block mr-1\"},[_c('img',{attrs:{\"src\":prod.product.imageUrl[0]}})])]),_c('div',{staticClass:\"content\"},[_c('div',{staticClass:\"is-5 has-text-weight-bold\"},[_vm._v(_vm._s(prod.product.title))]),_c('p',{staticClass:\"is-marginless\"},[_vm._v(\"x\"+_vm._s(prod.quantity))]),_c('p',{staticClass:\"is-marginless\"},[_vm._v(_vm._s(_vm._f(\"cash\")(prod.product.price)))])])])])]),_c('div',{staticClass:\"column desktop\"},[_c('figure',{staticClass:\"image is-128x128\"},[_c('img',{attrs:{\"src\":prod.product.imageUrl[0]}})])]),_c('div',{staticClass:\"column desktop\"},[_vm._v(_vm._s(prod.product.title))]),_c('div',{staticClass:\"column desktop\"},[_vm._v(\"x\"+_vm._s(prod.quantity))]),_c('div',{staticClass:\"column desktop\"},[_vm._v(_vm._s(_vm._f(\"cash\")(prod.product.price)))])])}),0),(_vm.showCollapseButton)?_c('div',{staticClass:\"columns is-marginless collapse is-centered\"},[_c('div',{staticClass:\"column is-full\"},[_c('button',{staticClass:\"collapse__btn\",class:_vm.collapseIcon,on:{\"click\":function($event){return _vm.toggleCollapse()}}},[_c('font-awesome-icon',{attrs:{\"icon\":['fas', _vm.isCollapse?'angle-double-up' : 'angle-double-down']}})],1)])]):_vm._e(),_c('h4',{staticClass:\"h4t has-text-left\"},[_c('font-awesome-icon',{staticClass:\"titleIcon\",attrs:{\"icon\":['fas', 'info-circle']}}),_vm._v(\" 訂單資訊\")],1),(_vm.order.user)?_c('table',{staticClass:\"table is-fullwidth\"},[_c('tr',[_c('td',[_vm._v(\"姓名\")]),_c('td',[_vm._v(_vm._s(_vm.order.user.name))])]),_c('tr',[_c('td',[_vm._v(\"電話\")]),_c('td',[_vm._v(_vm._s(_vm.order.user.tel))])]),_c('tr',[_c('td',[_vm._v(\"信箱\")]),_c('td',[_vm._v(_vm._s(_vm.order.user.email))])]),_c('tr',[_c('td',[_vm._v(\"地址\")]),_c('td',[_vm._v(_vm._s(_vm.order.user.address))])]),_c('tr',[_c('td',[_vm._v(\"付款方式\")]),_c('td',[_vm._v(_vm._s(_vm.order.payment))])]),_c('tr',[_c('td',[_vm._v(\"付款狀態\")]),_c('td',{staticClass:\"has-text-weight-bold\",class:_vm.paidStatus.status},[_vm._v(_vm._s(_vm.paidStatus.msg))])])]):_vm._e(),(!_vm.order.paid)?_c('button',{staticClass:\"button is-primary\",class:{'is-loading': _vm.loading},on:{\"click\":function($event){return _vm.doPay(_vm.order.id)}}},[_vm._v(\"確認付款\")]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template lang=\"pug\">\n  .order\n    h4.h4t.has-text-left\n      font-awesome-icon.icon.is-small(:icon=\"['far', 'clipboard']\")\n      span &nbsp; 購物清單\n    .list(:class=\"{hide: !isCollapse}\")\n      .columns.is-marginless.has-text-centered.is-vcentered(\n        v-for=\"prod in order.products\"\n        :key=\"prod.product.id\"\n      )\n        .column.is-paddingless.is-marginless.is-3.mobile\n          .box.is-shadowless.py-1.px-2\n            .media\n              .media-left\n                figure.image.is-64x64.is-inline-block.mr-1\n                  img(:src=\"prod.product.imageUrl[0]\")\n              .content\n                .is-5.has-text-weight-bold {{ prod.product.title }}\n                p.is-marginless x{{ prod.quantity }}\n                p.is-marginless {{ prod.product.price | cash }}\n        .column.desktop\n          figure.image.is-128x128\n            img(:src=\"prod.product.imageUrl[0]\")\n        .column.desktop {{ prod.product.title }}\n        .column.desktop x{{ prod.quantity }}\n        .column.desktop {{ prod.product.price | cash }}\n    .columns.is-marginless.collapse.is-centered(\n      v-if=\"showCollapseButton\"\n    )\n      .column.is-full\n        button.collapse__btn(\n          :class=\"collapseIcon\"\n          @click=\"toggleCollapse()\"\n        )\n          font-awesome-icon(\n            :icon=\"['fas', isCollapse?'angle-double-up' : 'angle-double-down']\"\n          )\n    h4.h4t.has-text-left\n      font-awesome-icon.titleIcon(:icon=\"['fas', 'info-circle']\")\n      | &nbsp; 訂單資訊\n    table.table.is-fullwidth(v-if=\"order.user\")\n      tr\n        td 姓名\n        td {{ order.user.name }}\n      tr\n        td 電話\n        td {{ order.user.tel }}\n      tr\n        td 信箱\n        td {{ order.user.email }}\n      tr\n        td 地址\n        td {{ order.user.address }}\n      tr\n        td 付款方式\n        td {{ order.payment }}\n      tr\n        td 付款狀態\n        td.has-text-weight-bold(:class=\"paidStatus.status\") {{ paidStatus.msg }}\n    button.button.is-primary(\n      :class=\"{'is-loading': loading}\"\n      v-if=\"!order.paid\"\n      @click=\"doPay(order.id)\"\n    ) 確認付款\n</template>\n<script>\nimport { mapGetters, mapActions } from 'vuex';\nimport { getOrder, payOrder } from '@/apis/frontend';\n\nexport default {\n  data() {\n    return {\n      isCollapse: false,\n    };\n  },\n  created() {\n    const loader = this.$loading.show();\n    const { id } = this.$route.params;\n    getOrder(id)\n      .then((resp) => {\n        this.setOrder(resp.data.data);\n        this.setCurrentStep(this.order.paid ? 3 : 2);\n        loader.hide();\n      });\n  },\n  computed: {\n    ...mapGetters({\n      order: 'order/order',\n      loading: 'loading',\n    }),\n    collapseIcon() {\n      return this.isCollapse ? 'up' : 'down';\n    },\n    showCollapseButton() {\n      return this.order.products\n        ? this.order.products.length > 2\n        : false;\n    },\n    paidStatus() {\n      return (this.order.paid\n        ? { status: 'has-text-success', msg: '已付款' }\n        : { status: 'has-text-danger', msg: '未付款' });\n    },\n  },\n  methods: {\n    ...mapActions({\n      setMsg: 'setMsg',\n      setOrder: 'order/setOrder',\n      toggleLoading: 'toggleLoading',\n      setCurrentStep: 'setCurrentStep',\n    }),\n    toggleCollapse() {\n      this.isCollapse = !this.isCollapse;\n    },\n    doPay(id) {\n      this.toggleLoading();\n      payOrder(id)\n        .then((resp) => {\n          this.setOrder(resp.data.data);\n          this.toggleLoading();\n          this.setMsg({\n            msg: '付款完成！',\n            type: true,\n          });\n          this.setCurrentStep(3);\n          this.$router.push(`/paysuccess/${resp.data.data.id}`);\n        })\n        .catch(() => {\n          this.toggleLoading();\n          this.setMsg({\n            msg: '付款失敗！',\n            type: false,\n          });\n        });\n    },\n  },\n};\n</script>\n<style lang=\"sass\" scoped>\n@keyframes collapseAnimation\n  0%\n    transform: translateY(0)\n  50%\n    transform: translateY(10%)\n  100%\n    transform: translateY(20%)\n@mixin pad\n  @media screen and (max-width: 768px)\n    @content\n@mixin mobile-large\n  @media screen and (max-width: 414px)\n    @content\n@mixin mobile\n  @media screen and (max-width: 413px) and (min-width: 375px)\n    @content\n@mixin xxs\n  @media screen and (max-width: 375px)\n    @content\n\n.list\n  overflow: hidden\n  &.hide\n    max-height: 450px\n    +pad\n      max-height: 300px\n    +mobile-large\n      max-height: 190px\n    +mobile\n      max-height: 200px\n    +xxs\n      max-height: 210px\n.collapse__btn\n  cursor: pointer\n  padding: 1% 2%\n  border: 0\n  background: transparent\n  outline: none\n  transform: translateY(0)\n  &.down\n    animation: collapseAnimation 1s infinite linear forwards\n  &.up\n    animation: collapseAnimation 1s infinite linear reverse forwards\n  &:hover\n    animation-play-state: paused\nsection\n  padding: 20px 0 100px\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Order.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Order.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Order.vue?vue&type=template&id=fd3fa77c&scoped=true&lang=pug&\"\nimport script from \"./Order.vue?vue&type=script&lang=js&\"\nexport * from \"./Order.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Order.vue?vue&type=style&index=0&id=fd3fa77c&lang=sass&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"fd3fa77c\",\n  null\n  \n)\n\nexport default component.exports","import axios from 'axios';\n\nconst { VUE_APP_API_UUID } = process.env;\nconst Request = axios.create({\n  timeout: 30000,\n  baseURL: `https://course-ec-api.hexschool.io/api/${VUE_APP_API_UUID}/ec/`,\n});\n\n/** product api */\nexport const getAllProducts = (p = 1) => Request.get(`products?page=${p}`);\nexport const getDataDetail = (id) => Request.get(`product/${id}`);\n\n/** shopcart api */\nexport const getCart = () => Request.get('shopping');\nexport const addCart = (product, quantity) => Request.post('shopping', {\n  product,\n  quantity,\n});\nexport const updateCart = (product, quantity) => Request.patch('shopping', {\n  product,\n  quantity,\n});\nexport const deleteCart = (product) => (product ? Request.delete(`shopping/${product}`) : Request.delete('shopping/all/product'));\n\nexport const checkCoupon = (code) => Request.post('coupon/search', {\n  code,\n});\n\nexport const createOrder = (data) => Request.post('orders', { ...data });\nexport const getAllOrders = () => Request.get('orders');\nexport const getOrder = (id) => Request.get(`orders/${id}`);\nexport const payOrder = (id) => Request.post(`orders/${id}/paying`);\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Order.vue?vue&type=style&index=0&id=fd3fa77c&lang=sass&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Order.vue?vue&type=style&index=0&id=fd3fa77c&lang=sass&scoped=true&\""],"sourceRoot":""}