{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es.array.reduce.js","webpack:///./src/components/Steps.vue?aaf9","webpack:///src/components/Steps.vue","webpack:///./src/components/Steps.vue?3b0c","webpack:///./src/components/Steps.vue","webpack:///./src/views/Checkout.vue?777d","webpack:///src/views/Checkout.vue","webpack:///./src/views/Checkout.vue?39ed","webpack:///./src/views/Checkout.vue","webpack:///./src/views/Checkout.vue?3c3f","webpack:///./src/apis/frontend/index.js","webpack:///./node_modules/core-js/internals/array-reduce.js"],"names":["$","$reduce","left","arrayMethodIsStrict","arrayMethodUsesToLength","STRICT_METHOD","USES_TO_LENGTH","1","target","proto","forced","reduce","callbackfn","this","arguments","length","undefined","render","_vm","_h","$createElement","_c","_self","staticClass","_l","step","key","no","class","inStep","_v","_s","text","staticRenderFns","name","computed","data","steps","component","attrs","show","isCollapse","item","index","product","imageUrl","title","quantity","_f","itemTotal","products","on","$event","toggleCollapse","_e","directives","rawName","value","discount","expression","domProps","debounce","checkCoupon","composing","$set","isLoading","couponUseful","msg","countAll","preventDefault","submitForm","scopedSlots","_u","fn","ref","invalid","errors","classes","form","checkedIcon","$$selectedVal","Array","prototype","filter","call","options","o","selected","map","val","_value","multiple","type","$router","go","loading","components","Steps","payment","tel","email","address","remark","code","percent","collapse","created","getShopCartData","setCurrentStep","couponMsg","watch","handler","discountMsg","methods","container","$refs","preivew","isFullPage","toggleLoading","coupon","clearTimeout","timer","setTimeout","VUE_APP_API_UUID","process","Request","axios","create","timeout","baseURL","getAllProducts","p","get","getDataDetail","id","getCart","addCart","post","updateCart","patch","deleteCart","delete","createOrder","getAllOrders","getOrder","payOrder","aFunction","toObject","IndexedObject","toLength","createMethod","IS_RIGHT","that","argumentsLength","memo","O","self","i","TypeError","module","exports","right"],"mappings":"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","file":"js/chunk-29581447.3d819130.js","sourcesContent":["'use strict';\nvar $ = require('../internals/export');\nvar $reduce = require('../internals/array-reduce').left;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar STRICT_METHOD = arrayMethodIsStrict('reduce');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('reduce', { 1: 0 });\n\n// `Array.prototype.reduce` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.reduce\n$({ target: 'Array', proto: true, forced: !STRICT_METHOD || !USES_TO_LENGTH }, {\n  reduce: function reduce(callbackfn /* , initialValue */) {\n    return $reduce(this, callbackfn, arguments.length, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"steps\"},_vm._l((_vm.steps),function(step){return _c('div',{key:step.no,staticClass:\"step-item\",class:_vm.inStep(step.no)},[_c('div',{staticClass:\"step-marker\"},[_vm._v(_vm._s(step.no))]),_c('div',{staticClass:\"step-details\"},[_c('p',{staticClass:\"step-title\"},[_vm._v(_vm._s(step.text))])])])}),0)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template lang=\"pug\">\n  .steps\n    .step-item(\n      v-for=\"step in steps\"\n      :key=\"step.no\"\n      :class=\"inStep(step.no)\"\n    )\n      .step-marker {{ step.no }}\n      .step-details\n        p.step-title {{ step.text }}\n</template>\n<script>\nimport { mapGetters } from 'vuex';\n\nexport default {\n  name: 'Steps',\n  computed: {\n    ...mapGetters(['currentStep']),\n    inStep() {\n      return (index) => (this.currentStep >= index\n        ? 'is-active is-success'\n        : '');\n    },\n  },\n  data() {\n    return {\n      steps: [\n        {\n          no: 1,\n          text: '填寫訂單',\n        },\n        {\n          no: 2,\n          text: '訂單確認',\n        },\n        {\n          no: 3,\n          text: '確認付款',\n        },\n      ],\n    };\n  },\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Steps.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Steps.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Steps.vue?vue&type=template&id=778d9103&lang=pug&\"\nimport script from \"./Steps.vue?vue&type=script&lang=js&\"\nexport * from \"./Steps.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"hero-body\"},[_c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"columns is-centered is-desktop\"},[_c('div',{staticClass:\"column is-two-thirds\"},[_c('Steps'),_c('h4',{staticClass:\"h4t has-text-left\"},[_c('font-awesome-icon',{staticClass:\"titleIcon\",attrs:{\"icon\":['far', 'clipboard']}}),_c('span',[_vm._v(\" 購物清單\")])],1),_c('div',{staticClass:\"preview-content mt-1\",class:{show: _vm.isCollapse}},_vm._l((_vm.products),function(item,index){return _c('div',{key:index,staticClass:\"columns is-marginless has-text-centered is-vcentered is-desktop\"},[_c('div',{staticClass:\"column is-paddingless is-marginless is-3 mobile\"},[_c('div',{staticClass:\"box is-shadowless py-1 px-2\"},[_c('div',{staticClass:\"media\"},[_c('div',{staticClass:\"media-left\"},[_c('figure',{staticClass:\"image is-64x64 is-inline-block mr-1\"},[_c('img',{attrs:{\"src\":item.product.imageUrl[0]}})])]),_c('div',{staticClass:\"content\"},[_c('div',{staticClass:\"is-5 has-text-weight-bold\"},[_vm._v(_vm._s(item.product.title))]),_c('p',{staticClass:\"is-marginless\"},[_vm._v(\"x\"+_vm._s(item.quantity))]),_c('p',{staticClass:\"is-marginless\"},[_vm._v(_vm._s(_vm._f(\"cash\")(_vm.itemTotal(index))))])])])])]),_c('div',{staticClass:\"column is-3 desktop\"},[_c('figure',{staticClass:\"image is-128x128 is-inline-block mr-1\"},[_c('img',{attrs:{\"src\":item.product.imageUrl[0]}})])]),_c('div',{staticClass:\"column desktop\"},[_vm._v(_vm._s(item.product.title))]),_c('div',{staticClass:\"column is-1 is-marginless is-paddingless desktop\"},[_vm._v(\"x\"+_vm._s(item.quantity))]),_c('div',{staticClass:\"column is-1 mb-1 is-paddingless desktop\"},[_vm._v(_vm._s(_vm._f(\"cash\")(_vm.itemTotal(index))))])])}),0),(_vm.products.length > 2)?_c('div',{staticClass:\"buy-item mt-1 mb-2\"},[_c('button',{staticClass:\"collapse\",class:_vm.isCollapse? 'up' : 'down',on:{\"click\":function($event){return _vm.toggleCollapse()}}},[_c('font-awesome-icon',{attrs:{\"icon\":['fas', _vm.isCollapse?'angle-double-up':'angle-double-down']}})],1)]):_vm._e(),_c('div',{staticClass:\"field has-addons has-addons-right\"},[_c('p',{staticClass:\"control\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.discount.code),expression:\"discount.code\"}],staticClass:\"input desktop\",attrs:{\"type\":\"text\",\"placeholder\":\"請輸入折扣碼\"},domProps:{\"value\":(_vm.discount.code)},on:{\"change\":function($event){_vm.debounce(_vm.checkCoupon())},\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.discount, \"code\", $event.target.value)}}})]),_c('p',{staticClass:\"control mobile is-expanded\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.discount.code),expression:\"discount.code\"}],staticClass:\"input is-small mobile\",attrs:{\"type\":\"text\",\"placeholder\":\"請輸入折扣碼\"},domProps:{\"value\":(_vm.discount.code)},on:{\"change\":function($event){_vm.debounce(_vm.checkCoupon())},\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.discount, \"code\", $event.target.value)}}})]),_c('p',{staticClass:\"control\"},[_c('label',{staticClass:\"button is-static desktop\",class:{'is-loading': _vm.isLoading}},[_c('font-awesome-icon',{attrs:{\"icon\":['fas', 'tags']}})],1),_c('label',{staticClass:\"button is-static is-small mobile\",class:{'is-loading': _vm.isLoading}},[_c('font-awesome-icon',{attrs:{\"icon\":['fas', 'tags']}})],1)])]),_c('div',[(_vm.discount.code)?_c('div',{staticClass:\"has-text-right\"},[(_vm.discount.code)?_c('p',{class:_vm.couponUseful},[_vm._v(_vm._s(_vm.discount.msg))]):_vm._e()]):_vm._e()]),_c('div',{staticClass:\"subtitle is-5 is-font-Noto is-fullwidth\"},[_c('div',{staticClass:\"has-text-right\"},[_vm._v(\"總額\"),_c('span',[_vm._v(_vm._s(_vm._f(\"cash\")(_vm.countAll)))])])]),_c('h4',{staticClass:\"h4t has-text-left\"},[_c('font-awesome-icon',{staticClass:\"titleIcon\",attrs:{\"icon\":['fas', 'info-circle']}}),_c('span',[_vm._v(\" 訂單資訊\")])],1),_c('validation-observer',{on:{\"submit\":function($event){$event.preventDefault();return _vm.submitForm()}},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar invalid = ref.invalid;\nreturn [_c('form',[_c('div',{staticClass:\"field\"},[_c('div',{staticClass:\"field-label has-text-left\"},[_c('label',{staticClass:\"label is-normal\",attrs:{\"for\":\"name\"}},[_vm._v(\"姓名\")])]),_c('div',{staticClass:\"field-body\"},[_c('validation-provider',{staticClass:\"field\",attrs:{\"name\":\"姓名\",\"rules\":\"required\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar errors = ref.errors;\nvar classes = ref.classes;\nreturn [_c('p',{staticClass:\"control has-icons-left has-icons-right\"},[_c('span',{staticClass:\"icon is-small is-left\"},[_c('font-awesome-icon',{attrs:{\"icon\":['fas', 'user']}})],1),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.name),expression:\"form.name\"}],staticClass:\"input\",class:classes,attrs:{\"id\":\"name\",\"type\":\"text\",\"required\":\"\"},domProps:{\"value\":(_vm.form.name)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form, \"name\", $event.target.value)}}}),_c('span',{staticClass:\"icon is-small is-right\"},[_c('font-awesome-icon',{attrs:{\"icon\":['fas', _vm.checkedIcon(errors[0])]}})],1),(errors[0])?_c('span',{staticClass:\"has-text-left help is-danger\"},[_vm._v(_vm._s(errors[0]))]):_vm._e()])]}}],null,true)})],1)]),_c('div',{staticClass:\"field\"},[_c('div',{staticClass:\"field-label has-text-left\"},[_c('label',{staticClass:\"label\",attrs:{\"for\":\"phone\"}},[_vm._v(\"電話\")])]),_c('div',{staticClass:\"field-body\"},[_c('validation-provider',{staticClass:\"field filed\",attrs:{\"name\":\"電話\",\"rules\":\"required|digits:10\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar errors = ref.errors;\nvar classes = ref.classes;\nreturn [_c('p',{staticClass:\"control has-icons-left has-icons-right\"},[_c('span',{staticClass:\"icon is-small is-left\"},[_c('font-awesome-icon',{attrs:{\"icon\":['fas', 'phone-alt']}})],1),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.tel),expression:\"form.tel\"}],staticClass:\"input\",class:classes,attrs:{\"id\":\"phone\",\"type\":\"tel\",\"maxlength\":\"10\",\"required\":\"\"},domProps:{\"value\":(_vm.form.tel)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form, \"tel\", $event.target.value)}}}),_c('span',{staticClass:\"icon is-small is-right\"},[_c('font-awesome-icon',{attrs:{\"icon\":['fas', _vm.checkedIcon(errors[0])]}})],1),(errors[0])?_c('span',{staticClass:\"has-text-left help is-danger\"},[_vm._v(_vm._s(errors[0]))]):_vm._e()])]}}],null,true)})],1)]),_c('div',{staticClass:\"field\"},[_c('div',{staticClass:\"field-label has-text-left\"},[_c('label',{staticClass:\"label\",attrs:{\"for\":\"email\"}},[_vm._v(\"信箱\")])]),_c('div',{staticClass:\"field-body\"},[_c('validation-provider',{staticClass:\"field\",attrs:{\"name\":\"信箱\",\"rules\":\"required|email\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar errors = ref.errors;\nvar classes = ref.classes;\nreturn [_c('p',{staticClass:\"control has-icons-left has-icons-right\"},[_c('span',{staticClass:\"icon is-small is-left\"},[_c('font-awesome-icon',{attrs:{\"icon\":['fas', 'envelope']}})],1),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.email),expression:\"form.email\"}],staticClass:\"input\",class:classes,attrs:{\"id\":\"email\",\"type\":\"email\",\"required\":\"\"},domProps:{\"value\":(_vm.form.email)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form, \"email\", $event.target.value)}}}),_c('span',{staticClass:\"icon is-small is-right\"},[_c('font-awesome-icon',{attrs:{\"icon\":['fas', _vm.checkedIcon(errors[0])]}})],1),(errors[0])?_c('span',{staticClass:\"has-text-left help is-danger\"},[_vm._v(_vm._s(errors[0]))]):_vm._e()])]}}],null,true)})],1)]),_c('div',{staticClass:\"field\"},[_c('div',{staticClass:\"field-label has-text-left\"},[_c('label',{staticClass:\"label\",attrs:{\"for\":\"address\"}},[_vm._v(\"收件地址\")])]),_c('div',{staticClass:\"field-body\"},[_c('validation-provider',{staticClass:\"field\",attrs:{\"name\":\"收件地址\",\"rules\":\"required\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar errors = ref.errors;\nvar classes = ref.classes;\nreturn [_c('p',{staticClass:\"control has-icons-left has-icons-right\"},[_c('span',{staticClass:\"icon is-small is-left\"},[_c('font-awesome-icon',{attrs:{\"icon\":['far', 'address-card']}})],1),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.address),expression:\"form.address\"}],staticClass:\"input\",class:classes,attrs:{\"id\":\"address\",\"type\":\"text\",\"required\":\"\"},domProps:{\"value\":(_vm.form.address)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form, \"address\", $event.target.value)}}}),_c('span',{staticClass:\"icon is-small is-right\"},[_c('font-awesome-icon',{attrs:{\"icon\":['fas', _vm.checkedIcon(errors[0])]}})],1),(errors[0])?_c('span',{staticClass:\"has-text-left help is-danger\"},[_vm._v(_vm._s(errors[0]))]):_vm._e()])]}}],null,true)})],1)]),_c('div',{staticClass:\"field\"},[_c('div',{staticClass:\"field-label has-text-left\"},[_c('label',{staticClass:\"label\",attrs:{\"for\":\"remark\"}},[_vm._v(\"備註\"),_c('small',{staticClass:\"has-text-grey-light\"},[_vm._v(\"（選填)\")])])]),_c('div',{staticClass:\"field-body\"},[_c('div',{staticClass:\"field\"},[_c('p',{staticClass:\"control has-icons-left has-icons-right\"},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.remark),expression:\"form.remark\"}],staticClass:\"textarea\",attrs:{\"id\":\"remark\",\"rows\":\"5\"},domProps:{\"value\":(_vm.form.remark)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form, \"remark\", $event.target.value)}}})])])])]),_c('div',{staticClass:\"field\"},[_c('div',{staticClass:\"field-label has-text-left\"},[_c('label',{staticClass:\"label\",attrs:{\"for\":\"paytype\"}},[_vm._v(\"付款方式\")])]),_c('div',{staticClass:\"field-body\"},[_c('validation-provider',{staticClass:\"field\",attrs:{\"name\":\"付款方式\",\"rules\":\"required\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar errors = ref.errors;\nvar classes = ref.classes;\nreturn [_c('div',{staticClass:\"control is-expended\"},[_c('div',{staticClass:\"select is-fullwidth\",class:classes},[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.payment),expression:\"form.payment\"}],attrs:{\"name\":\"payment\",\"id\":\"paytype\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.form, \"payment\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},[_c('option',{attrs:{\"value\":\"\",\"disabled\":\"\"}},[_vm._v(\"---請選擇付款方式---\")]),_vm._l((_vm.payment),function(type,index){return _c('option',{key:index,domProps:{\"value\":type}},[_vm._v(_vm._s(type))])})],2)]),(errors[0])?_c('span',{staticClass:\"has-text-left help is-danger\"},[_vm._v(_vm._s(errors[0]))]):_vm._e()])]}}],null,true)})],1)]),_c('div',{staticClass:\"control buttons is-centered\"},[_c('button',{staticClass:\"button is-text\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.$router.go(-1)}}},[_vm._v(\"上一頁\")]),_c('button',{staticClass:\"button is-primary\",class:{'is-loading': _vm.loading}},[_vm._v(\"確認訂單\")])])])]}}])})],1)])]),_c('vue-confirm-dialog')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template lang=\"pug\">\n  section.hero-body\n    .container\n      .columns.is-centered.is-desktop\n        .column.is-two-thirds\n          Steps\n          h4.h4t.has-text-left\n            font-awesome-icon.titleIcon(:icon=\"['far', 'clipboard']\")\n            span &nbsp; 購物清單\n          .preview-content.mt-1(\n            :class=\"{show: isCollapse}\"\n          )\n            .columns.is-marginless.has-text-centered.is-vcentered.is-desktop(\n              v-for=\"( item, index ) in products\"\n              :key=\"index\"\n            )\n              .column.is-paddingless.is-marginless.is-3.mobile\n                .box.is-shadowless.py-1.px-2\n                  .media\n                    .media-left\n                      figure.image.is-64x64.is-inline-block.mr-1\n                        img(:src=\"item.product.imageUrl[0]\")\n                    .content\n                      .is-5.has-text-weight-bold {{ item.product.title }}\n                      p.is-marginless x{{ item.quantity }}\n                      p.is-marginless {{ itemTotal(index) | cash }}\n              .column.is-3.desktop\n                figure.image.is-128x128.is-inline-block.mr-1\n                  img(:src=\"item.product.imageUrl[0]\")\n              .column.desktop {{ item.product.title }}\n              .column.is-1.is-marginless.is-paddingless.desktop x{{ item.quantity }}\n              .column.is-1.mb-1.is-paddingless.desktop {{ itemTotal(index) | cash }}\n          .buy-item.mt-1.mb-2(v-if=\"products.length > 2\")\n            button.collapse(\n              :class=\"isCollapse? 'up' : 'down'\"\n              @click=\"toggleCollapse()\"\n            )\n              font-awesome-icon(\n                :icon=\"['fas', isCollapse?'angle-double-up':'angle-double-down']\"\n              )\n          .field.has-addons.has-addons-right\n            p.control\n              input.input.desktop(\n                type=\"text\"\n                placeholder=\"請輸入折扣碼\"\n                v-model=\"discount.code\"\n                @change=\"debounce(checkCoupon())\"\n              )\n            p.control.mobile.is-expanded\n              input.input.is-small.mobile(\n                type=\"text\"\n                placeholder=\"請輸入折扣碼\"\n                v-model=\"discount.code\"\n                @change=\"debounce(checkCoupon())\"\n              )\n            p.control\n              label.button.is-static.desktop(:class=\"{'is-loading': isLoading}\")\n                font-awesome-icon(:icon=\"['fas', 'tags']\")\n              label.button.is-static.is-small.mobile(:class=\"{'is-loading': isLoading}\")\n                font-awesome-icon(:icon=\"['fas', 'tags']\")\n          div\n            .has-text-right(v-if=\"discount.code\")\n              p(\n                v-if=\"discount.code\"\n                :class=\"couponUseful\"\n              ) {{ discount.msg }}\n          .subtitle.is-5.is-font-Noto.is-fullwidth\n            .has-text-right 總額\n              span {{ countAll | cash }}\n          h4.h4t.has-text-left\n            font-awesome-icon.titleIcon(:icon=\"['fas', 'info-circle']\")\n            span &nbsp; 訂單資訊\n\n          validation-observer(\n              v-slot=\"{ invalid }\"\n              @submit.prevent=\"submitForm()\"\n          )\n            form\n              .field\n                  .field-label.has-text-left\n                    label.label.is-normal(for=\"name\") 姓名\n                  .field-body\n                    validation-provider(\n                      name=\"姓名\"\n                      v-slot=\"{ errors, classes }\"\n                      rules=\"required\"\n                    ).field\n                      p.control.has-icons-left.has-icons-right\n                        span.icon.is-small.is-left\n                          font-awesome-icon(:icon=\"['fas', 'user']\")\n                        input#name.input(\n                          type=\"text\"\n                          v-model=\"form.name\"\n                          :class=\"classes\"\n                          required\n                        )\n                        span.icon.is-small.is-right\n                          font-awesome-icon(:icon=\"['fas', checkedIcon(errors[0])]\")\n                        span.has-text-left.help.is-danger(\n                          v-if=\"errors[0]\"\n                        ) {{ errors[0] }}\n              .field\n                .field-label.has-text-left\n                  label.label(for=\"phone\") 電話\n                .field-body\n                  validation-provider.field(\n                    name=\"電話\"\n                    v-slot=\"{ errors, classes }\"\n                    rules=\"required|digits:10\"\n                  ).filed\n                    p.control.has-icons-left.has-icons-right\n                      span.icon.is-small.is-left\n                        font-awesome-icon(:icon=\"['fas', 'phone-alt']\")\n                      input#phone.input(\n                        type=\"tel\"\n                        v-model=\"form.tel\"\n                        :class=\"classes\"\n                        maxlength=10\n                        required\n                      )\n                      span.icon.is-small.is-right\n                        font-awesome-icon(:icon=\"['fas', checkedIcon(errors[0])]\")\n                      span.has-text-left.help.is-danger(\n                        v-if=\"errors[0]\"\n                      ) {{ errors[0] }}\n\n              .field\n                .field-label.has-text-left\n                  label.label(for=\"email\") 信箱\n                .field-body\n                  validation-provider.field(\n                    name=\"信箱\"\n                    v-slot=\"{ errors, classes }\"\n                    rules=\"required|email\"\n                  )\n                    p.control.has-icons-left.has-icons-right\n                      span.icon.is-small.is-left\n                        font-awesome-icon(:icon=\"['fas', 'envelope']\")\n                      input#email.input(\n                        type=\"email\"\n                        v-model=\"form.email\"\n                        :class=\"classes\"\n                        required\n                      )\n                      span.icon.is-small.is-right\n                        font-awesome-icon(:icon=\"['fas', checkedIcon(errors[0])]\")\n                      span.has-text-left.help.is-danger(\n                        v-if=\"errors[0]\"\n                      ) {{ errors[0] }}\n              .field\n                .field-label.has-text-left\n                  label.label(for=\"address\") 收件地址\n                .field-body\n                  validation-provider.field(\n                    name=\"收件地址\"\n                    v-slot=\"{ errors, classes }\"\n                    rules=\"required\"\n                  )\n                    p.control.has-icons-left.has-icons-right\n                      span.icon.is-small.is-left\n                        font-awesome-icon(:icon=\"['far', 'address-card']\")\n                      input#address.input(\n                        type=\"text\"\n                        v-model=\"form.address\"\n                        :class=\"classes\"\n                        required)\n                      span.icon.is-small.is-right\n                        font-awesome-icon(:icon=\"['fas', checkedIcon(errors[0])]\")\n                      span.has-text-left.help.is-danger(\n                        v-if=\"errors[0]\"\n                      ) {{ errors[0] }}\n\n              .field\n                .field-label.has-text-left\n                  label.label(for=\"remark\") 備註\n                    small.has-text-grey-light （選填)\n                .field-body\n                  .field\n                    p.control.has-icons-left.has-icons-right\n                      textarea#remark.textarea(rows=\"5\" v-model=\"form.remark\")\n\n              .field\n                .field-label.has-text-left\n                  label.label(for=\"paytype\") 付款方式\n                .field-body\n                  validation-provider.field(\n                    name=\"付款方式\"\n                    v-slot=\"{ errors, classes }\"\n                    rules=\"required\"\n                  )\n                    .control.is-expended\n                      .select.is-fullwidth(:class=\"classes\")\n                        select(\n                          name=\"payment\"\n                          id=\"paytype\"\n                          v-model=\"form.payment\"\n                        )\n                          option(value=\"\" disabled) ---請選擇付款方式---\n                          option(\n                            v-for=\"(type, index) in payment\"\n                            :key=\"index\"\n                            :value=\"type\"\n                          ) {{ type }}\n                      span.has-text-left.help.is-danger(\n                        v-if=\"errors[0]\"\n                      ) {{ errors[0] }}\n\n              .control.buttons.is-centered\n                button.button.is-text(type=\"button\" @click=\"$router.go(-1)\") 上一頁\n                button.button.is-primary(\n                  :class=\"{'is-loading': loading}\"\n                ) 確認訂單\n    vue-confirm-dialog\n</template>\n<script>\nimport { mapGetters, mapActions } from 'vuex';\nimport * as moment from 'moment';\nimport { getCart, checkCoupon, createOrder } from '@/apis/frontend';\nimport Steps from '@/components/Steps.vue';\n\nexport default {\n  name: 'Checkout',\n  components: {\n    Steps,\n  },\n  data() {\n    return {\n      payment: ['WebATM', 'ATM', 'Barcode', 'Credit', 'ApplePay', 'GooglePay'],\n      form: {\n        name: '',\n        tel: '',\n        email: '',\n        payment: '',\n        address: '',\n        remark: '',\n      },\n      discount: {\n        code: '',\n        percent: 0,\n        msg: '',\n        type: false,\n      },\n      isCollapse: false,\n      collapse: false,\n      isLoading: false,\n    };\n  },\n  created() {\n    this.getShopCartData();\n    this.setCurrentStep(1);\n  },\n  computed: {\n    ...mapGetters({\n      products: 'shopcart/shopcartItems',\n      loading: 'loading',\n    }),\n    countAll() {\n      const total = this.products\n        .reduce((cur, el) => cur + (el.quantity * (el.product.price\n          ? el.product.price\n          : el.product.origin_price)),\n        0);\n      return this.discount.percent\n        ? total * (this.discount.percent / 100)\n        : total;\n    },\n    itemTotal() {\n      return (index) => (this.products[index].quantity * (this.products[index].product.onsale\n        ? this.products[index].product.onsale\n        : this.products[index].product.price));\n    },\n    checkedIcon() {\n      return (error) => (error ? 'exclamation-triangle' : 'check');\n    },\n    couponUseful() {\n      return (this.discount.type ? 'has-text-success' : 'has-text-danger');\n    },\n    couponMsg() {\n      if (this.discount.code) {\n        return (this.discount.type)\n          ? `折扣${this.discount.percent}%`\n          : '此優惠碼無效';\n      }\n      return '';\n    },\n  },\n  watch: {\n    'discount.percent': {\n      handler() {\n        return this.countAll && this.discountMsg;\n      },\n    },\n  },\n  methods: {\n    ...mapActions({\n      setProducts: 'shopcart/setShopcartItems',\n      toggleLoading: 'toggleLoading',\n      setMsg: 'setMsg',\n      setCurrentStep: 'setCurrentStep',\n    }),\n    getShopCartData() {\n      const loader = this.$loading.show({\n        container: this.$refs.preivew,\n        isFullPage: false,\n      });\n      getCart()\n        .then((resp) => {\n          this.setProducts(resp.data.data);\n          loader.hide();\n        });\n    },\n    submitForm() {\n      this.toggleLoading();\n      if (this.discount.code) {\n        this.form.coupon = this.discount.code;\n      }\n      createOrder(this.form)\n        .then((resp) => {\n          this.toggleLoading();\n          this.$router.push(`payflow/${resp.data.data.id}`);\n        });\n    },\n    checkCoupon() {\n      this.isLoading = true;\n      checkCoupon(this.discount.code)\n        .then((resp) => {\n          if (moment(resp.data.data.deadline.datetime).isAfter(new Date())) {\n            this.discount = {\n              code: this.discount.code,\n              percent: resp.data.data.percent,\n              type: true,\n              msg: `折扣${resp.data.data.percent}%`,\n            };\n            this.isLoading = false;\n          } else {\n            const msg = '酷碰卷已過期';\n            this.setMsg({\n              msg,\n              type: false,\n            });\n            this.discount = {\n              code: this.discount.code,\n              percent: 0,\n              type: false,\n              msg,\n            };\n            this.isLoading = false;\n          }\n        })\n        .catch((err) => {\n          const msg = err.response.data.message;\n          this.setMsg({\n            msg,\n            type: false,\n          });\n          this.discount = {\n            code: this.discount.code,\n            percent: 0,\n            type: false,\n            msg,\n          };\n          this.isLoading = false;\n        });\n    },\n    debounce(func, delay = 100) {\n      let timer;\n      return (...args) => {\n        clearTimeout(timer);\n        timer = setTimeout(() => func.apply(this, args), delay);\n      };\n    },\n    toggleCollapse() {\n      this.isCollapse = !this.isCollapse;\n    },\n  },\n};\n</script>\n<style lang=\"sass\" scoped>\n$darkgray: #CBD0D8\n@mixin tablet\n  @media screen and (min-width: 576px) and (max-width: 767px)\n    @content\n@mixin desktop\n  @media screen and (min-width: 768px)\n    @content\n@mixin widescreen\n  @media screen and (min-width: 993px)\n    @content\n@mixin xxs\n  @media screen and (max-width: 375px)\n    @content\n@mixin mobile\n  @media screen and (max-width: 768px)\n    @content\n@keyframes collapseAnimation\n  0%\n    transform: translateY(0)\n  50%\n    transform: translateY(10%)\n  100%\n    transform: translateY(20%)\n@keyframes collpaseList\n  0%\n    height: 300px\n  50%\n    height: 400px\n  100%\n    height: auto\n\n.has-cur-background-goldyellow\n  background: rgba(211, 172, 43, .5)\n  width: 34%\n  padding: 1% 10%\n  margin: 1% 33%\n  background: rgba(211, 172, 43, .5)\n  border: 1px dotted $darkgray\n  border-radius: 20px\n  font-font-family: 'Noto Sans TC', sans serif\n  span\n    display: inline-block\n    margin-left: 5%\n.preview-content\n  max-height: 300px\n  overflow-y: hidden\n  +mobile\n    max-height: 200px\n    font-size: 14px\n  &.show\n    animation: collpaseList .5s 1 linear forwards\n    max-height: 100%\n.collapse\n  padding: 1% 2%\n  border: 0\n  background: transparent\n  outline: none\n  transform: translateY(0)\n  &.down\n    animation: collapseAnimation 1s infinite linear forwards\n  &.up\n    animation: collapseAnimation 1s infinite linear reverse forwards\n  &:hover\n    animation-play-state: paused\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Checkout.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Checkout.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Checkout.vue?vue&type=template&id=0a98c03e&scoped=true&lang=pug&\"\nimport script from \"./Checkout.vue?vue&type=script&lang=js&\"\nexport * from \"./Checkout.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Checkout.vue?vue&type=style&index=0&id=0a98c03e&lang=sass&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0a98c03e\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Checkout.vue?vue&type=style&index=0&id=0a98c03e&lang=sass&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Checkout.vue?vue&type=style&index=0&id=0a98c03e&lang=sass&scoped=true&\"","import axios from 'axios';\n\nconst { VUE_APP_API_UUID } = process.env;\nconst Request = axios.create({\n  timeout: 30000,\n  baseURL: `https://course-ec-api.hexschool.io/api/${VUE_APP_API_UUID}/ec/`,\n});\n\n/** product api */\nexport const getAllProducts = (p = 1) => Request.get(`products?page=${p}`);\nexport const getDataDetail = (id) => Request.get(`product/${id}`);\n\n/** shopcart api */\nexport const getCart = () => Request.get('shopping');\nexport const addCart = (product, quantity) => Request.post('shopping', {\n  product,\n  quantity,\n});\nexport const updateCart = (product, quantity) => Request.patch('shopping', {\n  product,\n  quantity,\n});\nexport const deleteCart = (product) => (product ? Request.delete(`shopping/${product}`) : Request.delete('shopping/all/product'));\n\nexport const checkCoupon = (code) => Request.post('coupon/search', {\n  code,\n});\n\nexport const createOrder = (data) => Request.post('orders', { ...data });\nexport const getAllOrders = () => Request.get('orders');\nexport const getOrder = (id) => Request.get(`orders/${id}`);\nexport const payOrder = (id) => Request.post(`orders/${id}/paying`);\n","var aFunction = require('../internals/a-function');\nvar toObject = require('../internals/to-object');\nvar IndexedObject = require('../internals/indexed-object');\nvar toLength = require('../internals/to-length');\n\n// `Array.prototype.{ reduce, reduceRight }` methods implementation\nvar createMethod = function (IS_RIGHT) {\n  return function (that, callbackfn, argumentsLength, memo) {\n    aFunction(callbackfn);\n    var O = toObject(that);\n    var self = IndexedObject(O);\n    var length = toLength(O.length);\n    var index = IS_RIGHT ? length - 1 : 0;\n    var i = IS_RIGHT ? -1 : 1;\n    if (argumentsLength < 2) while (true) {\n      if (index in self) {\n        memo = self[index];\n        index += i;\n        break;\n      }\n      index += i;\n      if (IS_RIGHT ? index < 0 : length <= index) {\n        throw TypeError('Reduce of empty array with no initial value');\n      }\n    }\n    for (;IS_RIGHT ? index >= 0 : length > index; index += i) if (index in self) {\n      memo = callbackfn(memo, self[index], index, O);\n    }\n    return memo;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.reduce` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.reduce\n  left: createMethod(false),\n  // `Array.prototype.reduceRight` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.reduceright\n  right: createMethod(true)\n};\n"],"sourceRoot":""}